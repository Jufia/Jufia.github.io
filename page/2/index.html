<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Windows-下-FPR-内网穿透计划" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/23/Windows-%E4%B8%8B-FPR-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AE%A1%E5%88%92/" class="article-date">
  <time class="dt-published" datetime="2022-09-23T09:28:06.000Z" itemprop="datePublished">2022-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C/">高效工作</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/23/Windows-%E4%B8%8B-FPR-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AE%A1%E5%88%92/">Windows 下 FRP 内网穿透计划</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="为什么使用-FRP"><a href="#为什么使用-FRP" class="headerlink" title="为什么使用 FRP"></a>为什么使用 FRP</h1><p>实验室里规定 21: 25 就可以走了, 但是我是自愿加班的, 操场 23:00 关闭, 但是人要 12 点睡, 就意味着还有一个小时左右的时间, 但是操场离寝室近离实验室远, 冬天又太冷了…. 所以一般就直接回宿舍了. (其实就是懒狗想要早点下班) 实验室有自己的局域网, 寝室里的电脑连的是校园网, 这个时候 Windows 自带的远程桌面就派不上用场了.<br>但是有时候坐在寝室里突然间灵光一闪要用实验室的电脑, 这个时候要是碰不到电脑的话, 这个偶然涌出的想法可能就要消失了! 所以能够让我随时随地用到实验室的电脑是一件必须的事情, 于是开始网上冲浪, 找出在寝室访问实验室电脑的方法.</p>
<h1 id="FRP-原理"><a href="#FRP-原理" class="headerlink" title="FRP 原理"></a>FRP 原理</h1><p>附上: <a target="_blank" rel="noopener" href="https://gofrp.org/docs/">FPR文档</a><br>frp 主要由 <strong>客户端(frpc)</strong> 和 <strong>服务端(frps)</strong> 组成，服务端通常部署在具有公网 IP 的机器上，客户端通常部署在需要穿透的内网服务所在的机器上。<br>内网服务由于没有公网 IP，不能被非局域网内的其他用户访问。<br>用户通过访问服务端的 frps，由 frp 负责根据请求的端口或其他信息将请求路由到对应的内网机器，从而实现通信。</p>
<h1 id="云服务器"><a href="#云服务器" class="headerlink" title="云服务器"></a>云服务器</h1><p>云服务器的作用, 分享链接: <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/27205559/answer/772271922">买了一台云服务器到底能干什么？ - Logic的回答 - 知乎</a>  </p>
<blockquote>
<p>在这条回答下有人评论: 如果只是为了远程，Sakura frp足够了，保险可以加个花生棒。免费<br>这里已经为了 FRP 看了很多资料了, 决定死磕 FRP , 有时间再去了解 Sakura Frp.<br>附上 Sakura Frp 的链接: <a target="_blank" rel="noopener" href="https://www.natfrp.com/">https://www.natfrp.com/</a></p>
</blockquote>
<h1 id="如何知道自己的电脑是什么框架"><a href="#如何知道自己的电脑是什么框架" class="headerlink" title="如何知道自己的电脑是什么框架"></a>如何知道自己的电脑是什么框架</h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>在命令行中输入 <code>echO %PROCESSOR_ARCHITECTURE%</code><br>输出如下值之一: <code>x86</code>, <code>AMD64</code>, <code>ARM64</code><br><img src="https://user-images.githubusercontent.com/73486724/193377566-e2442ef5-2444-4d91-9138-c6f820ab54a6.png" alt="image"><br><img src="https://user-images.githubusercontent.com/73486724/193376900-9b297480-fe34-4fc9-bb80-8278f6943443.png" alt="image"></p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>在命令行中输入 <code>uname -m</code>, 直接显示Linux 系统架构<br>我的虚拟机为 x86_64 架构.<br><img src="https://user-images.githubusercontent.com/73486724/193448040-d5cc617f-38b9-41a5-a161-dd01fbf9f3e4.png" alt="image">  </p>
<p>更多方法可查阅博客: <a target="_blank" rel="noopener" href="https://blog.51cto.com/hzj19840414/1854247">Linux 要如何查看系统架构</a></p>
<h1 id="如何判断自己的电脑是否有公网-ip"><a href="#如何判断自己的电脑是否有公网-ip" class="headerlink" title="如何判断自己的电脑是否有公网 ip"></a>如何判断自己的电脑是否有公网 ip</h1><p>通过这个网站, ip 地址查询网站: <a target="_blank" rel="noopener" href="https://www.ip138.com/">https://www.ip138.com/</a><br><img src="https://user-images.githubusercontent.com/73486724/192097543-21fdb942-94e5-4636-88ca-0eb00b216008.png" alt="image"><br>打开命令行, 输入指令 <code>tracert + 搜到的ip地址</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tracert <span class="number">111.40</span><span class="number">.58</span><span class="number">.238</span></span><br></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/73486724/192098037-8a73fc42-0332-4c60-94cb-bec56edfbe7b.png" alt="image"><br>追踪公网IP，通过网站得到的公网 IP是 111.40.58.238, 而实际上我的 ip 地址是 192.168.1.118 (192.168.1.1 是路由). 第一行为节跃点数, 所以中间肯定有其它的节点也就是路由，<strong>只要跃点超过一个就说明电脑就没有获得公网IP</strong>。这里, 显然我的电脑没有公网 ip.   </p>
<blockquote>
<p>假如是家庭宽带可以打电话向运营商的人工客服要, 直接说装监控需要分配公网IP. 但我这里是学校 WiFi, 这一条路是走不通的.</p>
</blockquote>
<p>参考: <a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv12589973">作者: 云爻斋-出处：bilibili</a> </p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><h2 id="设备"><a href="#设备" class="headerlink" title="设备"></a>设备</h2><ul>
<li>移动机器: 不需要下载任何软件</li>
<li>实验室机器(客户端frpc): 系统: Windows 10 专业版</li>
<li>云服务器(服务端frps): 具有公网 IP 的中转服务器,</li>
</ul>
<blockquote>
<p>两个内网机械是无法相连的, 公网服务器的作用是中转. 客户端先连接中转服务器, 经由中转服务器与内网服务器相连, 起到内网穿透的效果.</p>
</blockquote>
<p>参考教程: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/55306067">windows下基于frp的内网穿透部署 - 进化的monkey的文章 - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://oneforalone.github.io/misc/frp.html#id2">内网穿透 frp 配置 - Yuqi’s blog</a></li>
<li></li>
</ul>
<h2 id="购买云服务器"><a href="#购买云服务器" class="headerlink" title="购买云服务器"></a>购买云服务器</h2><p>这里参考其他博主, 选择了阿里云 ECS .<br>附购买指南链接: <a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/766515">阿里云开发者社区 - 阿里云学生机购买指南(用途和优势)(阿里云学生机购买指南(用途和优势)</a>  </p>
<blockquote>
<p>**飞天加速计划计划(原云翼计划)是阿里云校园扶持计划，24岁以下或拥有学信网认证信息即可享优惠产品、创业扶持等多项权益哦！包括：专属云服务器产品优惠、校园产品使用攻略等。<br>平均一个月9.5元，一天只需要0.3元。一年只需114元。</p>
</blockquote>
<p><strong>步骤</strong></p>
<ol>
<li>注册阿里云账号, 阿里云: <a target="_blank" rel="noopener" href="https://www.aliyun.com/?spm=5176.authc-home.top-nav.dlogo.63834babxeYHR1">https://www.aliyun.com/?spm=5176.authc-home.top-nav.dlogo.63834babxeYHR1</a></li>
<li>进行学生认证,建议使用支付宝认证, 不需要等待, 两分钟搞定! nice !  阿里云学生机官网地址：<a target="_blank" rel="noopener" href="https://promotion.aliyun.com/ntms/act/campus2018.html">https://promotion.aliyun.com/ntms/act/campus2018.html</a>.    </li>
<li>尝试使用阿里云 RCS 云服务器, 新手指引-实例-云服务器ECS-阿里云: <a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/25422.html">https://help.aliyun.com/document_detail/25422.html</a><ol>
<li>选型最佳实践: <a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/58291.html?spm=a2c4g.11186623.0.0.1d46637fqT7uVC">https://help.aliyun.com/document_detail/58291.html?spm=a2c4g.11186623.0.0.1d46637fqT7uVC</a></li>
<li>现在选择了 ECS 的学生免费领取活动, 做一个实验, 再答一套题就可以领取.</li>
<li>在选择操作系统的时候, 会发现下拉表单中的操作系统没有一个符合 Windows 10 专业版. 这里要说 Windows server 操作系统.<br> <img src="https://user-images.githubusercontent.com/73486724/192101045-11d2b94d-edf7-4ee6-81b6-555f588dbc63.png" alt="image"><ul>
<li>Windows Server是Microsoft专门创建用于服务器的一系列操作系统。服务器是功能非常强大的计算机，旨在持续运行并为其他计算机提供资源。这意味着在几乎所有情况下，Windows Server仅在业务设置中使用。Server主要面向服务器，是一个服务器操作系统. </li>
<li>Windows的消费者版本面向个人用户.</li>
<li>参考资料:<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/112576466">windows server和windows的区别 - 国家一级保护废物的文章 - 知乎</a><br>搭配 ECS 后控制台里会出现一个实例<br><img src="https://user-images.githubusercontent.com/73486724/192104957-54f18f16-4517-4853-9b18-9e7fdb259d16.png" alt="image"><br>参考链接:CSDN - 1.学生版阿里云简单配置和win7、win10专业版及win10家庭版的远程桌面的配置详解: <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41903105/article/details/85224145">https://blog.csdn.net/qq_41903105/article/details/85224145</a></li>
</ul>
</li>
<li>Windows 系统选择了<font color = '#aaaa'>‘2016 数据中心版….’</font>可行</li>
</ol>
</li>
<li>重置密码<br><img src="https://user-images.githubusercontent.com/73486724/192133503-f2dbd6ea-395a-4618-9c75-9d123ef7c09d.png" alt="image"><br>登录名: administrator<br>密码设置为: Lyh#2022<br>这里会给手机发一个验证码<br>改完之后重启实例<br>阿里云提供的示例中的一些基本信息<br><img src="https://user-images.githubusercontent.com/73486724/192133811-a884ab33-3d16-4ee3-b76f-6671a04d47f0.png" alt="image"></li>
</ol>
<blockquote>
<p>因为刚开始不懂, 以为云主机的操作系统要和电脑操作系统一致, 现在知道完全是我多虑了… 暂时用 Windows 系统, 再换用 Linux 系统. (都云服务器了, 当然首选 Linux 啊! )</p>
</blockquote>
<h2 id="连接云服务器"><a href="#连接云服务器" class="headerlink" title="连接云服务器"></a>连接云服务器</h2><p>使用阿里云提供的远程连接方式.  </p>
<ul>
<li>workbench 远程连接: 通过网页可以对ECS实例进行远程控制，支持复制粘贴文本，支持多操作系统用户登录同一台实例。</li>
<li>VNC远程连接: VNC远程连接是一种使用RFB协议的屏幕画面分享及远程操作工具，不需要单独为实例设置网络规则即可使用，但其连接质量较差，仅推荐作为临时连接方案使用。</li>
<li>发送命令（云助手）: 发送远程命令可以帮助您在实例内部快速执行命令，即无需远程连接登录实例，即可完成查看硬盘空间、安装软件、启动停止服务等操作。</li>
</ul>
<p>使用workbench 远程连接方式:<br>选择密码认证, 输入密码即可.<br><img src="https://user-images.githubusercontent.com/73486724/193378349-aae627e7-5d91-4166-88ec-151568c7c607.png" alt="image"></p>
<p><strong>(更换系统为 Linux 系统)</strong> 选用 Alibaba Cloud Linux 3.2104 LTS 64 位.<br>登录上去为一个控制台<br><img src="https://user-images.githubusercontent.com/73486724/193447605-74bb19ed-268a-4542-b98c-ecc5ebd83bbb.png" alt="image">  </p>
<p>输入指令 <code>ls- l</code> 返回 total 0 信息, 刚登录是没有文件的.</p>
<p>在命令行中输入 <code>ssh 用户名@@xxx.xx.xx.xx</code>, 此处xxx.xx.xx.xx 为 云产品资源 提供的 弹性IP）下面的两张图上边的是阿里云提供的实例中的图, 下面的是我免费领取的 ecs 实例的图. 好像是按量计费的产品才有弹性公网 IP, 包年包月的就没有.<br>   <img src="https://user-images.githubusercontent.com/73486724/192133698-8345e40e-e6f6-4f6d-b8b7-de5b2807bdb7.png" alt="image"><br>   <img src="https://user-images.githubusercontent.com/73486724/192134059-05656ac8-7c33-4607-a6e6-4ca4cfde256d.png" alt="image"><br>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@<span class="number">101.133</span><span class="number">.151</span><span class="number">.69</span>  <span class="comment">//阿里云示例</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li>手动输入 <code>yes</code></li>
<li>输入密码, 提示:输入密码时界面是没有反应的，输入完毕直接回车即可，不要误以为出问题了。</li>
<li>成功之后应该是这样的:<br><img src="https://user-images.githubusercontent.com/73486724/192133934-3d9a4209-99a0-431f-aa64-1659d2676c68.png" alt="image"></li>
</ol>
<p>参考教程: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12Z4y1h7mi?share_source=copy_web&vd_source=1e1cbdd04843d6a73b76ca782123c6e0">【bilibili: 阿里云-云服务器ECS20-连接云主机】</a></p>
<blockquote>
<p>使用心得: 学生机注册使用体验有点差, 用开始支付宝认证还挺方便的, 后来还要在手机上下载阿里云app和人脸识别验证这一点我不是很喜欢, 个人不喜欢在手机和电脑上安装软件, 也不喜欢给一个新的 app 身份验证.</p>
</blockquote>
<p>目前两台电脑已经不在同一个局域网下, 在远程桌面下输入阿里云提供的公网 ip , 可以找到我的Windows账户.<br><img src="https://user-images.githubusercontent.com/73486724/192136620-57e33d7a-1c96-4294-b08f-07c93176a5df.png" alt="image"><br><img src="https://user-images.githubusercontent.com/73486724/192136758-292c4bf6-a923-4a0c-9e3f-5dff06da618d.png" alt="image"></p>
<blockquote>
<p>现在仍然有问题, 当我像往常一样输入我的 Windows 密码时提示我: 之前用于连接到 xxx.xxx.xxx.xxx 的凭证无法工作, 请输入新凭证.</p>
</blockquote>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>下载地址: <a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases">https://github.com/fatedier/frp/releases</a><br>根据服务器、内网主机的系统框架，分别下载 frp.  </p>
<ul>
<li>客户端选择的是第一个<font color = '#12345'>“frp_0.44.0_darwin_amd64.tar.gz”</font> 版本  </li>
<li>服务器端为 x86_64 架构, 选择 <font color = '#12345'>“frp_0.44.0_linux_386.tar.gz”</font> 版本<br><img src="https://user-images.githubusercontent.com/73486724/191934408-a7e39be8-678d-4fb9-808d-b3d452398acc.png" alt="image"><br><img src="https://user-images.githubusercontent.com/73486724/193376900-9b297480-fe34-4fc9-bb80-8278f6943443.png" alt="image"></li>
</ul>
<h3 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h3><p>使用 <code>url</code> 指令安装</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -# -</span><br><span class="line"><span class="title class_">LJOhttps</span>:<span class="comment">//github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_386.tar.gz</span></span><br></pre></td></tr></table></figure>
<p>没有 <code>curl</code>也可以使用 <code>wget</code> 安装  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wgethttps</span>:<span class="comment">//github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_386.tar.gz</span></span><br></pre></td></tr></table></figure>

<p>以上两种方法我均失败了(…)  </p>
<p>成功方法: 使用 SSH 传输.<br>先在本地下载好需要的安装包, 复制路径, 然后再到<strong>相应路径下去上传</strong>(这里我没有注意到 cmd 默认在用户目录下开始, 而我的压缩包并不在 users 下面), 先一路 <code>cd</code> 出来, 然后输入命令:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp /本地文件路径/test.<span class="property">txt</span> root@<span class="number">123.123</span><span class="number">.123</span><span class="number">.123</span>:<span class="regexp">/服务器文件路径/</span></span><br><span class="line"><span class="comment">// 我的相应命令</span></span><br><span class="line"><span class="attr">C</span>:\&gt;scp /<span class="title class_">Document</span>\<span class="title class_">GoogleDocuments</span>\frp_0<span class="number">.44</span>.0_linux_386.<span class="property">tar</span>.<span class="property">gz</span> root@<span class="number">39.101</span><span class="number">.75</span><span class="number">.147</span>:<span class="regexp">/work/</span>frp/</span><br><span class="line"><span class="comment">// 表示将该 frp 文件上传到 Linux 机器的 /work/frp/ 文件夹里</span></span><br></pre></td></tr></table></figure>
<p>这样就成功了!<br><img src="https://user-images.githubusercontent.com/73486724/193451121-b73d653c-400f-4896-b55a-6a1c2ee1d95c.png" alt="image"><br>然后到云服务器这里查看, <strong>注意: 云服务器中的默认路径并不是根目录</strong>, 用 <code>pwd</code> 指令查看当前路径, 发现在 <code>/root</code> 中<br><img src="https://user-images.githubusercontent.com/73486724/193451214-538d50e5-78d1-433e-a69a-3b762bf2af1b.png" alt="image"><br>再一路 <code>cd</code> 出去, 可以看到上传上去的 frp 压缩包文件了.<br><img src="https://user-images.githubusercontent.com/73486724/193451311-be12dfb4-2d70-48b3-b8a9-81b01fdf0022.png" alt="image">  </p>
<p>用 <code> tar -zxvf</code> 指令解压<br>用 <code>vim frp.ini</code> 编辑 frp.ini 文件<br>用 <code>:wq</code> 退出编辑<br>输入 <code>./frps -c frps.ini</code> 启动服务器端, 收到如下信息则成功</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span>/<span class="number">10</span>/<span class="number">02</span> <span class="number">19</span>:<span class="number">33</span>:<span class="number">21</span> [I] [root.<span class="property">go</span>:<span class="number">209</span>] frps uses config <span class="attr">file</span>: frps.<span class="property">ini</span></span><br><span class="line"><span class="number">2022</span>/<span class="number">10</span>/<span class="number">02</span> <span class="number">19</span>:<span class="number">33</span>:<span class="number">21</span> [I] [service.<span class="property">go</span>:<span class="number">194</span>] frps tcp listen on <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">7000</span></span><br><span class="line"><span class="number">2022</span>/<span class="number">10</span>/<span class="number">02</span> <span class="number">19</span>:<span class="number">33</span>:<span class="number">21</span> [I] [root.<span class="property">go</span>:<span class="number">218</span>] frps started successfully</span><br></pre></td></tr></table></figure>
<p>教程:<br><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/network/271719.html">内网穿透FRP详细教程</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/141860859">Linux上传下载文件的几种方式 - 新睿云服务器的文章 - 知乎</a><br><a target="_blank" rel="noopener" href="https://www.163.com/dy/article/FOVV1SM60548KSVT.html">教你 2 种从 Linux 终端下载文件的方法</a><br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/754818">阿里云开发者社区 - Linux服务器怎样上传下载文件</a><br><a target="_blank" rel="noopener" href="https://www.linuxbaike.com/upload-download/">从Linux服务器下载文件到本地or上传文件到Linux服务器的方法</a><br><a target="_blank" rel="noopener" href="http://t.csdn.cn/qO3zq">csdn - linux 新建文件夹命令</a></p>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>直接在 GitHub 下载 ADM64 架构的文件即可.</p>
<h1 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h1><p>下载下来的 fpr 其实就是个文件夹, 里面的文件如下所示:<br><img src="https://user-images.githubusercontent.com/73486724/192106747-5170ffb1-2b5a-41af-ac0a-808d6f5514f6.png" alt="image"><br><strong>注意：服务器端使用的版本和内网主机使用的要一致，不然容易出问题</strong></p>
<h2 id="服务器端-frps"><a href="#服务器端-frps" class="headerlink" title="服务器端 frps"></a>服务器端 frps</h2><p>这里只需要修改  “frps.ini” 文件即可.<br>在具有公网 IP 的机器上部署 frps，修改 frps.ini 文件，这里使用了最简化的配置，设置了 frp 服务器用户接收客户端连接的端口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = <span class="number">7000</span> # frp服务的端口号，可以自己定</span><br><span class="line">dashboard_port = <span class="number">7500</span> # frp的web界面的端口号</span><br><span class="line">dashboard_user = user # web界面的登陆账户，自己修改</span><br><span class="line">dashboard_pwd = pass # web界面的登陆密码，自己修改</span><br><span class="line">authentication_method = token</span><br><span class="line">token = <span class="title class_">Lyh</span>@<span class="number">2022</span> # frp客户端连接时的密码，自己修改</span><br></pre></td></tr></table></figure>
<p><strong>注意: 实际使用要把注释删掉</strong></p>
<h2 id="客户端-1"><a href="#客户端-1" class="headerlink" title="客户端"></a>客户端</h2><h1 id="10-2-现场保护"><a href="#10-2-现场保护" class="headerlink" title="10.2 现场保护"></a>10.2 现场保护</h1><p><a target="_blank" rel="noopener" href="https://www.iots.vip/post/synology-series-2.html">Alliot’s blog-群晖入门到进阶系列（二）：DDNS与端口转发</a>  </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42081389/article/details/111745516">csdn-借助ecs的公网ip将自己家里的Windows做个内外穿透【外网可以访问的】–frp【远程连接Windows电脑】</a><br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/27205559/answer/772271922">买了一台云服务器到底能干什么？ - Logic的回答 - 知乎</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/55306067">windows下基于frp的内网穿透部署 - 进化的monkey的文章 - 知乎</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1837482">腾讯云开发者社区-frp配置内网穿透教程（超详细）</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/YAOHAIPI/article/details/112788834">csdn-跨局域网远程连接神器——frp内网穿透</a>  </p>
<p><a target="_blank" rel="noopener" href="https://chowdera.com/2022/03/202203051329130242.html">超详细frp配置实现绕过防火墙内网渗透</a><br><a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/issues/2905">dial tcp IP:PORT: i&#x2F;o timeout #2905</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12b4y18725?p=3&share_source=copy_web&vd_source=1e1cbdd04843d6a73b76ca782123c6e0">【阿里云服务器ECS建站教程全套（适合0基础初学者），小白轻松拥有个人网站！| 保姆级教程</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_36241363/article/details/78457359">使用frp进行内网穿透入门</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46152207/article/details/114869669?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-114869669-null-null.pc_agg_new_rank&utm_term=frpc%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E5%91%BD%E4%BB%A4&spm=1000.2123.3001.4430">Windows命令窗口输入命令报错不是内部或外部命令，也不是可运行的程序 或批处理文件</a><br><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/network/271719.html">内网穿透FRP详细教程</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/YAOHAIPI/article/details/112788834">跨局域网远程连接神器——frp内网穿透</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45963152/article/details/123903327">frp内网穿透实现文件共享祥细教程</a><br><a target="_blank" rel="noopener" href="https://gofrp.org/docs/examples/ssh/">frp文档-通过 SSH 访问内网机器</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/embedded-linux/p/10200831.html">博客园-局域网两个不同网段互相访问</a>  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/23/Windows-%E4%B8%8B-FPR-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AE%A1%E5%88%92/" data-id="clcw2yrzw004aywv0gg42dgdr" data-title="Windows 下 FRP 内网穿透计划" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Frp/" rel="tag">Frp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">云服务器</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-嵌入式原理及应用-05-MCS51指令系统的寻址方式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-05-MCS51%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2022-09-15T02:39:00.000Z" itemprop="datePublished">2022-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Electricity/">Electricity</a>►<a class="article-category-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-05-MCS51%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F/">嵌入式原理及应用(05)-MCS51指令系统的寻址方式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>寻址方式是指寻找、确定参与操作的数据的地址的方式，一般来说, 寻址方式越多, 单片机的功能就越强, 灵活性就越大, 指令系统就越复杂.<br><strong><font color = '#1234'>寻址方式所要解决的主要问题就是如何在整个存储器和寄存器的寻址空间内, 灵活方便、快速的找到指定的操作数。</font></strong>  </p>
<h1 id="寄存器寻址"><a href="#寄存器寻址" class="headerlink" title="寄存器寻址"></a>寄存器寻址</h1><p>可用于访问选定寄存器区的8个工作寄存器R0~R7、A、B、DPTR、Cy等。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span>   A,<span class="built_in">R1</span></span><br></pre></td></tr></table></figure>
<h1 id="直接寻址方式"><a href="#直接寻址方式" class="headerlink" title="直接寻址方式"></a>直接寻址方式</h1><p>指令中的第二操作数为立即数。51指令中的立即数应冠以前缀’#’，且若立即数的首位为A~F，前面还要加零。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span>  A,<span class="number">#40</span>H</span><br><span class="line"><span class="keyword">mov</span>  A,<span class="number">#0</span>A5H</span><br></pre></td></tr></table></figure>

<h1 id="直接寻址"><a href="#直接寻址" class="headerlink" title="直接寻址"></a>直接寻址</h1><p>指令中直接给出操作数所在的单元地址, 该单元地址中的内容就是操作数, 直接操作数单元地址用 ‘direct’ 表示.<br><strong>直接寻址方式是对片内所有特殊功能寄存器访问的唯一方式.</strong>  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span> A, <span class="number">#40</span>H<span class="comment">;  将内部 RAM 40H 单元的内容送到 A</span></span><br><span class="line"><span class="keyword">MOV</span> <span class="number">42</span>H, <span class="number">62</span>H<span class="comment">; 将内部 RAM 62H 单元内容转给 42H 单元中</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>访问 SFR 可用:<br>寄存器寻址<br>直接寻址</p>
</blockquote>
<h1 id="寄存器间接寻址"><a href="#寄存器间接寻址" class="headerlink" title="寄存器间接寻址"></a>寄存器间接寻址</h1><p>在寄存器中存放的是操作数的地址, 从寄存器中找到操作数的地址, 再按照该地址找到操作数.<br>用于访问内部RAM和外部数据区，包括52系列单片机的高128字节RAM，只有R0,R1可以作为间址寄存器。<br>在寄存器间接寻址方式中应在寄存器前加 ‘@’</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span>   <span class="built_in">R0</span>,<span class="number">#40</span>H<span class="comment">;  访问低128字节RAM</span></span><br><span class="line"><span class="keyword">MOV</span>   A,<span class="comment">@R0;    先从R0中找到源操作数所在地址 40H 然后把 40H 中的内容传给 A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">MOV</span>   <span class="built_in">R0</span>,<span class="number">#90</span>H<span class="comment">;  访问高128字节RAM</span></span><br><span class="line"><span class="keyword">MOV</span>   A,<span class="comment">@R0 </span></span><br></pre></td></tr></table></figure>

<h1 id="基址寄存器加变址寄存器间接寻址"><a href="#基址寄存器加变址寄存器间接寻址" class="headerlink" title="基址寄存器加变址寄存器间接寻址"></a>基址寄存器加变址寄存器间接寻址</h1><p>基址寄存器加变址寄存器间接寻址以 DPTR 或者 PC 作为基址寄存器, 以累加器 A 作为变址寄存器, 并以两者内容相加形成新的16位地作为目的地址进行寻址.</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">MOVC</span> A, <span class="comment">@A+DPTR;    DPTR: 数据指针</span></span><br><span class="line"><span class="symbol">MOVC</span> A, <span class="comment">@A+PC;      PC: 程序指针</span></span><br><span class="line"><span class="comment">;上两条适用于读程序存储器中的固定数据, 例如按照固定的, 一定顺序排列的表格参数</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">JMP</span> <span class="comment">@A+DPTR;    散转指令, A 中的内容为程序运行后的动态结果, 可根据 A 的内容不同来实现向不同程序入口的跳转.</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>DPTR 是 16 位寄存器, 只有 DPRT 可以传入 16 位数, 常用于存储地址位<br>MCS-51 地址位为 16 位的原因: 有 16 根地址总线</p>
</blockquote>
<h1 id="位寻址方式"><a href="#位寻址方式" class="headerlink" title="位寻址方式"></a>位寻址方式</h1><p><strong>内部 RAM 和特殊功能寄存器中的可寻址位</strong><br>位寻址是指对内部 RAM 和特殊功能寄存器具有位寻址功能的某位内容进行置 1 和清 0 操作. 位地址一般以直接的位地址给出, 符号为 ‘bit’.  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span> C, bit</span><br><span class="line"><span class="keyword">MOV</span> C, <span class="number">40</span>H<span class="comment">; 把位地址为 40H 的位值 0 或 1 送给进位位 C. </span></span><br></pre></td></tr></table></figure>

<h1 id="相对寻址方式"><a href="#相对寻址方式" class="headerlink" title="相对寻址方式"></a>相对寻址方式</h1><p><strong>相对寻址方式是为了解决程序跳转而专门设置的, 为转移指令所用.</strong><br>程序跳转到目的地址:<br><strong><font color = '#a024c2'>目的地址 &#x3D; 跳转指令所在地址(PC值) + 转移字节数(跳转指令下一条指令的首地址) + 偏移量 rel</font></strong><br>相对偏移 rel 是单字节的带符号的 8 位二进制数的补码数. 它所能表示的数字范围是 -128 ~ + 127.  </p>
<blockquote>
<p>在实际编写程序时, 只需要在转移指令中直接写上要转向的地址标号即可</p>
</blockquote>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">SJMP</span> rel</span><br><span class="line"><span class="comment">; 跳转指令的 PC 值加 2 (因为 SJMP rel 指令占用两个字节数) </span></span><br><span class="line"><span class="comment">; 再加上相对偏移量 rel 后的目的地址, 其中 rel 为 8 位带符号的补码.</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">SJMP</span> LOOP<span class="comment">; 直接写上转移标号</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-05-MCS51%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F/" data-id="clcw2yrza003uywv05uw8eung" data-title="嵌入式原理及应用(05)-MCS51指令系统的寻址方式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-嵌入式原理及应用-04-MCS51的指令系统" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-04-MCS51%E7%9A%84%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/" class="article-date">
  <time class="dt-published" datetime="2022-09-15T02:38:10.000Z" itemprop="datePublished">2022-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Electricity/">Electricity</a>►<a class="article-category-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-04-MCS51%E7%9A%84%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/">嵌入式原理及应用(04)-MCS51的指令系统</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>51共有指令111条</p>
<ul>
<li>字节<ul>
<li>单字节指令49条</li>
<li>双字节指令45条</li>
<li>三字节指令17条</li>
</ul>
</li>
<li>执行周期<ul>
<li>单机器周期指令64条</li>
<li>双机器周期指令45条</li>
<li>4  机器周期指令 2 条</li>
</ul>
</li>
</ul>
<h2 id="汇编指令的基本结构"><a href="#汇编指令的基本结构" class="headerlink" title="汇编指令的基本结构"></a>汇编指令的基本结构</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Loop1:</span>   <span class="keyword">mov</span>   a, <span class="number">#0</span>ffh<span class="comment">;  累计器A赋值为ff</span></span><br></pre></td></tr></table></figure>
<p><font color = '34567d'>LOOP1:</font> $\quad$  <font color = 'red'>mov</font> $\quad$ <font color = '4567'>a</font> , $\quad$ <font color = 'rgb010'>#0ffh</font>;  $\qquad$ <font color = 'aa3a'>累计器A赋值为ff</font><br><font color = '34567d'>[标号]: </font> $\quad$  <font color = 'red'>操作码助记符  </font> $\quad$ <font color = '4567'>[第1操作数]</font> , $\quad$ <font color = 'rgb010'>[第2操作数]</font>;$\qquad$ <font color = 'aa3a'> 注释</font>  </p>
<ul>
<li><font color = '34567d'>[标号] </font>：表示该指令所在的符号地址，一般由字母和数字组成，第一位为字母，其余位为字母、数字任选。</li>
<li><font color = 'red'>操作码助记符  </font>、<font color = '4567'>[第1操作数]</font> 和 <font color = 'rgb010'>[第2操作数]</font>：指令的核心部分。对于某些指令可能不存在完整的两个操作数。</li>
<li><font color = 'aa3a'> 注释</font>：是由用户加入的文本，对汇编程序不起任何作用，只是方便阅读。</li>
</ul>
<blockquote>
<p>第1操作数又称目的操作数，第2操作数又称源操作数<br>汇编语言可以直接对硬件进行操作, 效率高于高级语言<br>汇编语言不区分大小写<br>汇编语言用分号 ‘;’ 进行注释<br>CPU只能执行机器语言（由8位二进制代码组成，分为1字节、2字节、3字节）。所有的汇编程序都要先转化为机械码</p>
</blockquote>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">RET</span>    &lt;=&gt;<span class="number">22</span>H</span><br><span class="line"><span class="keyword">MOV</span>   A,<span class="number">#0</span>fh    &lt;=&gt;<span class="number">74</span>H  <span class="number">0</span>FH</span><br><span class="line"><span class="keyword">MOV</span>   <span class="number">74</span>H,<span class="number">#0</span>BH    &lt;=&gt;<span class="number">75</span>H   <span class="number">74</span>H   <span class="number">0</span>BH</span><br></pre></td></tr></table></figure>
<p>[此处插入一个关于指令和对应功能机械码的表格, 课本p62表3-2]</p>
<p>参考文献: <a target="_blank" rel="noopener" href="https://www.wsbookshow.com/uploads/bookfile/201007/9787508462479_2.pdf">Microsoft Word - 新1-3.doc(模块三 80C51 的指令系统和程序设计)</a></p>
<h1 id="数据传送类"><a href="#数据传送类" class="headerlink" title="数据传送类"></a>数据传送类</h1><p><strong>指令介绍中符号的说明：</strong></p>
<ul>
<li>Rn：当前工作寄存器区中R0~R7</li>
<li>Ri：当前工作寄存器区中的R0,R1</li>
<li>Direct：直接地址</li>
<li>#data：指令中的常数（8位或16位）</li>
<li>Dptr：数据指针</li>
<li>@：间接寻址前缀</li>
<li>(X) ：x中的内容（20h）</li>
<li>((x))：在间接寻址中，由间址寄存器寻址的单元中的内容<ul>
<li>((R0))，若R0&#x3D;20H，则((R0))表示（20H）</li>
</ul>
</li>
</ul>
<h2 id="MOV"><a href="#MOV" class="headerlink" title="MOV"></a>MOV</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Mov</span>  a, Rn<span class="comment">; 以累加器为目的</span></span><br><span class="line"><span class="keyword">Mov</span>  Rn, <span class="number">#0</span>A0h<span class="comment">; 以Rn为目的操作数</span></span><br><span class="line"><span class="keyword">Mov</span>  <span class="number">40</span>H, <span class="comment">@Ri；以直接地址为目的操作数</span></span><br><span class="line"><span class="keyword">Mov</span>  <span class="comment">@Ri, #0B0h；以寄存器间接地址为目的操作数</span></span><br><span class="line"><span class="keyword">Mov</span>  dptr, <span class="number">#2000</span>h<span class="comment">; 把 16 位立即数送入 DPTR , 用来设置外部存储器的地址指针</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">MOV</span> Rn, direct<span class="comment">; 将源操作数中的内容送入到当前工作寄存器 R0 ~ R7 中的某一个寄存器</span></span><br></pre></td></tr></table></figure>

<p><font color = '#2ad'><strong>所有 MOV 类指令, 累加器 A 是一个非常重要的 8 位寄存器, CPU 对它具有其他存储器所没有的操作指令</strong></font></p>
<h2 id="MOVX-x2F-访问外部数据存储器"><a href="#MOVX-x2F-访问外部数据存储器" class="headerlink" title="MOVX &#x2F;访问外部数据存储器"></a>MOVX &#x2F;访问外部数据存储器</h2><p>A与<strong>外部数据存储器</strong>传送  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Movx</span>  a,<span class="comment">@dptr</span></span><br><span class="line"><span class="keyword">Movx</span> a,<span class="comment">@Ri</span></span><br><span class="line"><span class="keyword">Movx</span> <span class="comment">@dptr,a</span></span><br><span class="line"><span class="keyword">Movx</span> <span class="comment">@Ri,a</span></span><br></pre></td></tr></table></figure>
<h2 id="MOVC-x2F-访问外部程序存储器"><a href="#MOVC-x2F-访问外部程序存储器" class="headerlink" title="MOVC &#x2F;访问外部程序存储器"></a>MOVC &#x2F;访问外部程序存储器</h2><p><code>MOVC</code> 用于访问<strong>外部程序存储器</strong><br>表格存放在外部程序存储器中  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; 查表指令</span></span><br><span class="line"><span class="symbol">Movc</span> a,<span class="comment">@a+pc（单字节）</span></span><br></pre></td></tr></table></figure>

<p>若程序中这指令所在的地址为1000h，这是一条单字节指令。CPU执行此条指令时，pc&#x3D;1001, 假定此时a&#x3D;30h。那么，程序的执行结果，是将程序存储器1031H中内容，读入a中。  </p>
<blockquote>
<p>这条指令的优点是不改变特殊功能寄存器及 PC 的状态, 根据 A 中的内容就可以取出表格中的常数, 缺点是表格只能存放在该查表指令所在地址的 +256 个单元内<br><strong>只能访问该指令后面256单元</strong></p>
</blockquote>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; 例: 求 0~9 的平方</span></span><br><span class="line">              ORG    <span class="number">0000</span>H</span><br><span class="line">              LJMP   <span class="built_in">A1</span></span><br><span class="line">              ORG    <span class="number">0080</span>H</span><br><span class="line"><span class="symbol">A1:</span>           <span class="keyword">NOP</span></span><br><span class="line">              <span class="keyword">NOP</span></span><br><span class="line">              <span class="keyword">MOV</span>   <span class="built_in">SP</span>,<span class="number">#60</span>H</span><br><span class="line">              <span class="keyword">MOV</span>   DPTR,<span class="number">#2000</span>H</span><br><span class="line">              <span class="keyword">MOV</span>   A,<span class="number">#03</span>H；将<span class="number">0</span>~<span class="number">9</span>之内任意一个数赋值给A。</span><br><span class="line">              MOVC  A,<span class="comment">@A+DPTR</span></span><br><span class="line"><span class="symbol">A2:</span>           SJMP  <span class="built_in">A2</span></span><br><span class="line">              ORG   <span class="number">2000</span>H</span><br><span class="line">              DB    <span class="number">00</span>h,<span class="number">01</span>h,<span class="number">04</span>h,<span class="number">09</span>h,<span class="number">10</span>h,<span class="number">19</span>h,<span class="number">24</span>h,<span class="number">31</span>h,<span class="number">40</span>h,<span class="number">51</span>h</span><br><span class="line">              <span class="meta">END</span></span><br></pre></td></tr></table></figure>

<p><strong>执行 MOVC 指令时, 伴随单片机的 $\overline{PSEN}$ 引脚信号同时有效</strong></p>
<h2 id="push-x2F-pop"><a href="#push-x2F-pop" class="headerlink" title="push &#x2F; pop"></a>push &#x2F; pop</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="built_in">sp</span>)<span class="number">=60</span>h,(a)<span class="number">=30</span>h,(b)<span class="number">=70</span>h</span><br><span class="line"><span class="keyword">Push</span>  a   <span class="comment">;(sp)+1=61h=&gt;sp     (a)=&gt;61h</span></span><br><span class="line"><span class="keyword">Push</span>  <span class="keyword">b</span>   <span class="comment">; (sp)+1=62h=&gt;sp    (b)=&gt;62h</span></span><br><span class="line"><span class="keyword">Pop</span>   <span class="keyword">b</span>   <span class="comment">;  (sp)=&gt;b           (sp)-1=&gt;sp =61h</span></span><br><span class="line"><span class="keyword">Pop</span>   a   <span class="comment">;   (sp)=&gt;a           (sp)-1=&gt;sp =60h</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>PUSH: 先 +1 , 后入栈<br>POP: 先出栈, 后 -1</p>
</blockquote>
<h2 id="XCH-x2F-字节交换指令"><a href="#XCH-x2F-字节交换指令" class="headerlink" title="XCH &#x2F;字节交换指令"></a>XCH &#x2F;字节交换指令</h2><p>将累加器内容与源操作数内容相互交换</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Xch</span>  a,Rn</span><br><span class="line"><span class="symbol">Xch</span>  a,<span class="number">40</span>h（直接地址）</span><br><span class="line"><span class="symbol">Xch</span> a,<span class="comment">@Ri</span></span><br><span class="line"><span class="symbol">Xch</span> a,<span class="built_in">R7</span></span><br><span class="line"><span class="comment">; 若a=55h;R7=66h，指令执行结果a=66h,R7=55h</span></span><br></pre></td></tr></table></figure>

<h2 id="XCHD-x2F-半字节交换"><a href="#XCHD-x2F-半字节交换" class="headerlink" title="XCHD &#x2F;半字节交换"></a>XCHD &#x2F;半字节交换</h2><p>累加器 A 的低四位与内部 RAM 低四位交换. 只变低四位, 高四位不变.</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Xchd</span> a,<span class="comment">@R0</span></span><br><span class="line"><span class="comment">; 若a=59h,R0=60h,(60h)=3eh,执行结果a=5eh,(60h)=39h</span></span><br><span class="line"><span class="comment">; 59H = 0101 1001, (60H) = 3EH = 0011 1110</span></span><br></pre></td></tr></table></figure>
<p><em>Data 6, Data 7 同时有进位或同时没有进位, OV &#x3D; 0</em></p>
<h1 id="算数操作类"><a href="#算数操作类" class="headerlink" title="算数操作类"></a>算数操作类</h1><p><img src="https://user-images.githubusercontent.com/73486724/192147377-ba110091-6730-4717-819d-aabe10c8d6e1.png" alt="image"></p>
<h2 id="ADD-x2F-加法指令"><a href="#ADD-x2F-加法指令" class="headerlink" title="ADD &#x2F;加法指令"></a>ADD &#x2F;加法指令</h2><p>共有 4 条加法指令  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ADD</span> A, Rn</span><br><span class="line"><span class="keyword">ADD</span> A, direct</span><br><span class="line"><span class="keyword">ADD</span> A, <span class="comment">@Ri</span></span><br><span class="line"><span class="keyword">ADD</span> A, <span class="symbol">#data</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果位7有进位输出，则置“1”Cy位，否则清零；</li>
<li>如果位3有进位输出，则置“1”Ac位，否则清零；</li>
<li>如果位6有进位而位7没有进位，或者位7有进位而位6没有，则置位溢出标志位OV置”1”；否则对溢出标志位清零。(6 和 7 同时有进位或者都没有进位时 OV &#x3D; 0)</li>
</ul>
<blockquote>
<p>溢出标志位 OV 的状态, 只有在进行带符号数的加法运算时才有意义</p>
</blockquote>
<p><strong>例:</strong></p>
<ol>
<li>53H + FCH, (A) &#x3D; 4FH, Cy &#x3D; 1, Ac &#x3D; 0, OV &#x3D; 0, P &#x3D; 1</li>
<li>85H + AFH, (A) &#x3D; 34H, Cy &#x3D; 1, Ac &#x3D; 1, OV &#x3D; 1, P &#x3D; 1</li>
</ol>
<h2 id="ADDC-x2F-带进位加法指令"><a href="#ADDC-x2F-带进位加法指令" class="headerlink" title="ADDC &#x2F;带进位加法指令"></a>ADDC &#x2F;带进位加法指令</h2><p>通常将进位标识符 Cy 简称为 C, <code>ADDC</code> 则意为带上进位标志位的加法指令.<br><strong>带进位标志位加法指令的特点是 Cy 参加运算, 是三个数相加</strong><br>共有 4 条加法指令  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">ADDC</span> A, Rn</span><br><span class="line"><span class="symbol">ADDC</span> A, direct</span><br><span class="line"><span class="symbol">ADDC</span> A, <span class="comment">@Ri</span></span><br><span class="line"><span class="symbol">ADDC</span> A, <span class="symbol">#data</span></span><br></pre></td></tr></table></figure>
<p><strong>例:</strong> (A) &#x3D; 85H, (20H) &#x3D; FFH, Cy &#x3D; 1   </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">ADDC</span> A, <span class="number">20</span>H</span><br><span class="line"><span class="comment">; (A) = 85H, Cy = 1, Ac = 1, OV = 0, P = 1</span></span><br></pre></td></tr></table></figure>
<h2 id="INC-x2F-加一指令"><a href="#INC-x2F-加一指令" class="headerlink" title="INC &#x2F;加一指令"></a>INC &#x2F;加一指令</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/15/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-04-MCS51%E7%9A%84%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/" data-id="clcw2yrza003vywv070hc5lmn" data-title="嵌入式原理及应用(04)-MCS51的指令系统" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-单片机的硬件结构" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/14/%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2022-09-14T08:15:04.000Z" itemprop="datePublished">2022-09-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Electricity/">Electricity</a>►<a class="article-category-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/14/%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/">单片机的硬件结构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="冯·诺依曼结构"><a href="#冯·诺依曼结构" class="headerlink" title="冯·诺依曼结构"></a>冯·诺依曼结构</h1><p>参考文献：<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/136748306">知乎-三分钟带你了解冯.诺依曼结构</a><br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%86%AF%C2%B7%E8%AF%BA%E4%BC%8A%E6%9B%BC%E7%BB%93%E6%9E%84">维基百科-冯·诺伊曼结构</a></p>
<h1 id="哈佛结构和冯·诺依曼结构的辨析"><a href="#哈佛结构和冯·诺依曼结构的辨析" class="headerlink" title="哈佛结构和冯·诺依曼结构的辨析"></a>哈佛结构和冯·诺依曼结构的辨析</h1><p>参考文献：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/58791677">知乎-MCS-51 单片机的硬件结构</a></p>
<h1 id="算数逻辑运算单元-ALU"><a href="#算数逻辑运算单元-ALU" class="headerlink" title="算数逻辑运算单元 ALU"></a>算数逻辑运算单元 ALU</h1><p>参考文献: <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%AE%97%E8%A1%93%E9%82%8F%E8%BC%AF%E5%96%AE%E5%85%83">维基百科-算术逻辑单元</a></p>
<h1 id="51单片机中的342个特殊功能寄存器"><a href="#51单片机中的342个特殊功能寄存器" class="headerlink" title="51单片机中的342个特殊功能寄存器"></a>51单片机中的342个特殊功能寄存器</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/14/%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/" data-id="clcw2yrz8003rywv01zrz5p9w" data-title="单片机的硬件结构" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-中学数学-03组合数公式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/08/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-03%E7%BB%84%E5%90%88%E6%95%B0%E5%85%AC%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2022-09-08T10:39:46.000Z" itemprop="datePublished">2022-09-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Math/">Math</a>►<a class="article-category-link" href="/categories/Math/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6/">中学数学</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/08/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-03%E7%BB%84%E5%90%88%E6%95%B0%E5%85%AC%E5%BC%8F/">中学数学-03组合数公式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="组合数公式性质-C-n-k-C-n-k-1-x3D-C-n-1-k-1"><a href="#组合数公式性质-C-n-k-C-n-k-1-x3D-C-n-1-k-1" class="headerlink" title="组合数公式性质: $C_{n}^{k} + C_{n}^{k+1} &#x3D; C_{n+1}^{k+1}$"></a>组合数公式性质: $C_{n}^{k} + C_{n}^{k+1} &#x3D; C_{n+1}^{k+1}$</h1><p><strong>prove</strong>:<br>$$<br>\begin{array}{rl}<br>    C_{n}^{k} + C_{n}^{k+1} &amp; &#x3D; \frac{n!}{k!(n-k)!}+ \frac{n!}{(k+1)!(n-k-1)!} \cr<br>    &amp; &#x3D;  \frac{n!}{k!(n-k-1)!*(n-k)}+ \frac{n!}{(k+1)*k!(n-k-1)!} \cr<br>    &amp; &#x3D; \frac{n!}{(n-k)!(k+1)!}\times(k+1 + n-k) \cr<br>    &amp; &#x3D; \frac{(n+1)!}{(k+1)!(n-k)!} \cr<br>    &amp; &#x3D; C_{n+1}^{k+1}<br>\end{array}<br>$$<br>综上:<br>$$<br>C_{n}^{k} + C_{n}^{k+1} &#x3D; C_{n+1}^{k+1}<br>$$</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/08/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-03%E7%BB%84%E5%90%88%E6%95%B0%E5%85%AC%E5%BC%8F/" data-id="clcw2yryz003bywv0gxpdbgzz" data-title="中学数学-03组合数公式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/" rel="tag">Math</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-中学数学-02前n项相加" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/06/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-02%E5%89%8Dn%E9%A1%B9%E7%9B%B8%E5%8A%A0/" class="article-date">
  <time class="dt-published" datetime="2022-09-06T10:51:14.000Z" itemprop="datePublished">2022-09-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Math/">Math</a>►<a class="article-category-link" href="/categories/Math/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6/">中学数学</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/06/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-02%E5%89%8Dn%E9%A1%B9%E7%9B%B8%E5%8A%A0/">中学数学-02前n项相加</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前-n-项相加"><a href="#前-n-项相加" class="headerlink" title="前 n 项相加"></a>前 n 项相加</h1><p>令:<br>$$S_n &#x3D; 1 + 2 + \dots + n-1 + n$$<br>倒序排列则为:<br>$$S_n &#x3D; n + n-1 + \dots + 2 + 1$$<br>相加得:<br>$$2S_n &#x3D; n+1 + n+1 + \dots + n+1 &#x3D; n(n+1)$$<br>故:<br>$$S_n&#x3D; \frac{n(n+1)}{2}$$</p>
<h1 id="前-n-项的平方相加"><a href="#前-n-项的平方相加" class="headerlink" title="前 n 项的平方相加"></a>前 n 项的平方相加</h1><p>$$<br>S_n &#x3D; 1^2 + 1^2 + \dots + n^2 &#x3D; \sum_{k&#x3D;1}^{n} k^2 &#x3D; \frac{n(n+1)(2n+1)}{6}<br>$$</p>
<h2 id="利用立方"><a href="#利用立方" class="headerlink" title="利用立方"></a>利用立方</h2><p>已知: $(n+1)^3 - n^3 &#x3D; 3n^2 + 3n + 1$, 写出递推规律:<br>$$<br>\begin{array}{rll}<br>    (n+1)^3 &amp;   -n^3 &amp;   &#x3D; 3n^2 + 3n +1 \cr<br>    n^3     &amp;   -(n-1)^3&amp;&#x3D; 3(n-1)^3 + 3(n-1) + 1 \cr<br>    \dots \cr<br>    2^3 &amp; - 1^3 &amp; &#x3D; 3\cdot 1^2 + 3\cdot 1 + 1<br>\end{array}<br>$$<br>累加, 得:<br>$$<br>(n+1)^3 - 1^3 &#x3D; 3 \sum_{k&#x3D;1}^{n} k^2 +3\cdot \sum_{k&#x3D;1}^{n} k + n<br>$$<br>故:<br>$$<br>3\sum_{k&#x3D;1}^{n} k^2 &#x3D; n^3 + 3n^2 + 3n - \frac{3n(n+1)}{2} -n &#x3D; \frac{n(n+1)(2n+1)}{2}<br>$$<br>综上:<br>$$<br>\sum_{k&#x3D;1}^{n} k^2 &#x3D; \frac{n(n+1)(2n+1)}{6}<br>$$</p>
<h2 id="用递推关系求解"><a href="#用递推关系求解" class="headerlink" title="用递推关系求解"></a>用递推关系求解</h2><p>设数列 ${ a_n } &#x3D; 1^2 + 2^2 + \dots + n^2$<br>设${ a_n }$ 的一阶差数列为: $a_n^1 &#x3D; a_{n+1} - a_n &#x3D; (n+1)^2$<br>设${ a_n }$ 的二阶差数列为: $a_n^2 &#x3D; a_{n+1}^1 - a_n^1 &#x3D; (n+2)^2 - (n+1)^2 &#x3D; 2n+3$<br>设${ a_n }$ 的三阶差数列为: $a_n^3 &#x3D; a_{n+1}^2 - a_n^2 &#x3D; 2 &#x3D; const$<br>可设: $a_n &#x3D; An^3 + Bn^2 + Cn + D$<br>已知: $a_1 &#x3D; 1, a_2 &#x3D; 5, a_3 &#x3D; 14, a_4 &#x3D; 30$<br>代入到上式中解出待定系数为: $A &#x3D; \frac{1}{3}, B &#x3D; \frac{1}{2}, C &#x3D; \frac{1}{6}, D &#x3D; 0$<br>故: $a_n &#x3D; \frac{n(n+1)(2n+1)}{6}$<br>综上:<br>$$<br>\sum_{k&#x3D;1}^{n} k^2 &#x3D; \frac{n(n+1)(2n+1)}{6}<br>$$</p>
<h2 id="利用图形的方法求解"><a href="#利用图形的方法求解" class="headerlink" title="利用图形的方法求解"></a>利用图形的方法求解</h2><p>$S_n &#x3D; 1^2 + 1^2 + \dots + n^2$ 有三种表示方式:<br>$$<br>\begin{array}{l}<br>    S_n + S_n + S_n &#x3D; \cr<br>    \begin{matrix}<br>    1 \cr<br>    2 &amp; 2 \cr<br>    3 &amp; 3&amp; 3\cr<br>    \vdots &amp;\cdots &amp;&amp; \ddots \cr<br>    n-1 &amp; n-1 &amp; \cdots &amp; n-1 \cr<br>    n &amp; n &amp;  \cdots &amp;n&amp;n<br>\end{matrix} +<br>\begin{matrix}<br>    n  \cr<br>    n &amp; n-1\cr<br>    \vdots &amp; \vdots &amp;\ddots  \cr<br>    n &amp; n-1 &amp;\cdots &amp;3 \cr<br>    n &amp; n-1 &amp;\cdots &amp; 3 &amp; 2 \cr<br>    n &amp; n-1 &amp;\cdots&amp;  3 &amp;2&amp;1<br>\end{matrix} +<br>\begin{matrix}<br>    n  \cr<br>    n-1 &amp; n\cr<br>    \vdots &amp; n-1 &amp;\ddots  \cr<br>    3 &amp; \vdots &amp;\cdots &amp;n \cr<br>    2 &amp; 3 &amp;\cdots &amp; n-1 &amp; n \cr<br>    1 &amp; 2 &amp;3 &amp;  \cdots &amp;n-1&amp;n<br>\end{matrix} \cr<br> &#x3D; \begin{matrix}<br>    2n+1 \cr<br>    2n+1 &amp; 2n+1 \cr<br>    2n+1&amp; 2n+1&amp;2n+1\cr<br>    \vdots &amp; \vdots &amp;&amp; \ddots \cr<br>    2n+1 &amp; 2n+1 &amp; \cdots &amp; 2n+1<br> \end{matrix} \cr<br> &#x3D; (2n + 1)\sum_{k&#x3D;1}^{n} k &#x3D; \frac{n(n-1)(2n+1)}{2}<br>\end{array}<br>$$<br>综上:<br>$$<br>\sum_{k&#x3D;1}^{n} k^2 &#x3D; \frac{n(n+1)(2n+1)}{6}<br>$$</p>
<h1 id="扩展-求前-n-项立方和"><a href="#扩展-求前-n-项立方和" class="headerlink" title="扩展: 求前 n 项立方和"></a>扩展: 求前 n 项立方和</h1><p>与 ‘利用立方求平方和的方法类似’<br>$$<br>\begin{array}{rll}<br>    (n+1)^4 &amp;   -n^4 &amp;   &#x3D; 4n^3 + 6n^3 + 4n +1 \cr<br>    n^4     &amp;   -(n-1)^4&amp;&#x3D; 4(n-1)^3 + 6(n-1)^2 + 4(n-1) + 1 \cr<br>    \dots \cr<br>    2^4 &amp; - 1^4 &amp; &#x3D; 4\cdot 1^3 + 6\cdot 1^2 + 4\cdot 1 + 1<br>\end{array}<br>$$<br>同理可得:<br>$$<br>\sum_{k&#x3D;1}^{n} k^3 &#x3D; [\frac{n(n+1)}{2}]^2<br>$$</p>
<h1 id="扩展-奇数项平方和公式"><a href="#扩展-奇数项平方和公式" class="headerlink" title="扩展: 奇数项平方和公式"></a>扩展: 奇数项平方和公式</h1><p>由上述平方和公式可得偶数项平方和公式为:<br>$$<br>\begin{align}2^{2}+4^{2}+……+n^{2}(n为偶数) &amp;&#x3D;4\cdot(1^{2}+2^{2}+……+(\frac{n}{2})^{2})\cr<br> &amp;&#x3D;4\cdot\frac{\frac{n}{2}\cdot(n+1)\cdot(\frac{n}{2}+1)}{6}\cr<br>  &amp;&#x3D;\frac{n\cdot(n+1)\cdot(n+2)}{6}<br>  \end{align}<br>$$<br>所以奇数项平方和公式为:<br>$$<br>\begin{align}<br>1^{2}+3^{2}+…+n^{2}(n为奇数) &amp;&#x3D;(1^{2}+2^{2}+……+n^{2})-(2^{2}+4^{2}+…+(n-1)^{2})\cr<br> &amp;&#x3D;\frac{n\cdot(n+1)\cdot(2n+1)}{6}-\frac{(n-1)\cdot n\cdot (n+1)}{6}\cr<br>  &amp;&#x3D;\frac{n\cdot(n+1)\cdot(n+2)}{6}<br> \end{align}<br>$$</p>
<p>参考文献: <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/36029266/answer/1687590679">知乎-前n项平方和公式怎么推导？ - miniEthan的回答 </a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/06/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-02%E5%89%8Dn%E9%A1%B9%E7%9B%B8%E5%8A%A0/" data-id="clcw2yryw0035ywv06208htwq" data-title="中学数学-02前n项相加" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/" rel="tag">Math</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-中学数学-01解一元三次方程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/05/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-01%E8%A7%A3%E4%B8%80%E5%85%83%E4%B8%89%E6%AC%A1%E6%96%B9%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2022-09-05T13:49:53.000Z" itemprop="datePublished">2022-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Math/">Math</a>►<a class="article-category-link" href="/categories/Math/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6/">中学数学</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/05/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-01%E8%A7%A3%E4%B8%80%E5%85%83%E4%B8%89%E6%AC%A1%E6%96%B9%E7%A8%8B/">中学数学-01解一元三次方程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><p>一元三次方程:<br>$$<br>ax^3+bx^2+cx+d&#x3D;0(a≠0）<br>$$<br>先考虑将方程变形成<br>$$<br>x^3+mx^2+nx+l&#x3D;0<br>$$<br>其中 $m&#x3D;b&#x2F;a ，n&#x3D;c&#x2F;a， l&#x3D;d&#x2F;a$ ；<br>将二次项消去, 得到:<br>$$<br> (x+m&#x2F;3)^3+(n-m^2&#x2F;3)x+(l-m^3&#x2F;27)&#x3D;0<br>$$<br>然后，令 $x+m&#x2F;3&#x3D;t$ 于是上面的方程可以变形成为<br>$$<br>t^3+(n-m^2&#x2F;3)(t-m&#x2F;3)+(l-m^3&#x2F;27)&#x3D;0<br>$$<br>整理可得<br>$$<br>t^3+rt+s&#x3D;0，<br>$$<br>其中 $r&#x3D;(n-m^2&#x2F;3),s&#x3D;(l-m^3&#x2F;27)-(m&#x2F;3)*(n-m^2&#x2F;3)$<br>设实根<br>$$<br>t&#x3D;A^{1&#x2F;3}+B^{1&#x2F;3} ，<br>$$<br>将方程两边同时立方，得到<br>$$<br>t^3-3(AB)^{1&#x2F;3}t-(A+B)&#x3D;0<br>$$<br>$A$ 和 $B$ 就是方程 $X^2+sX-r^3&#x2F;27&#x3D;0$ 两个根, 解出一元二次方程即可得到 $A$ 和 $B$.<br>注意开立方是在复数域上开立方, 能够得到实根和复根.<br>由 $A, B$ 的值迭代回去得到 $t$ 的值, 再由 $t$ 的值即可得到原一元三次方程的三个根. </p>
<h1 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h1><p>一元三次方程可以采用卡尔丹公式和盛金求根公式来计算。下面用最基础的代数方法来理解卡尔丹公式怎么来的。<br>一元三次方程<br>$$<br>ax^3+bx^2+cx+d&#x3D;0(a≠0）<br>$$<br>1、为了解最初的方程，可以先考虑将方程变形成<br>$$<br>x^3+mx^2+nx+l&#x3D;0<br>$$<br>其中 $m&#x3D;b&#x2F;a ，n&#x3D;c&#x2F;a， l&#x3D;d&#x2F;a$<br>2、这个形式可以进一步化简。回顾一元二次方程的求根公式，采用配方法，将其变成和的平方的形式然后开方即可得到求根公式，这里最高次是3次，所以考虑配立方。<br>将 $(x+a)^3&#x3D;x^3+3x^2a+3xa^2+a^3$ 和1中的式子比较发现，可以把$mx^2$ 并入和的立方里面。于是1中的方程可以成<br>$$<br>t^3+(n-m^2&#x2F;3)(t-m&#x2F;3)+(l-m^3&#x2F;27)&#x3D;0<br>$$<br>然后，令 $x+m&#x2F;3&#x3D;t$ 于是上面的方程可以变形成为<br>$$<br>t^3+rt+s&#x3D;0，其中r&#x3D;(n-m^2&#x2F;3),s&#x3D;(l-m^3&#x2F;27)-(m&#x2F;3)*(n-m^2&#x2F;3)<br>$$</p>
<p>整理可得<br>$$<br>t^3+rt+s&#x3D;0，<br>$$<br>其中 $r&#x3D;(n-m^2&#x2F;3),s&#x3D;(l-m^3&#x2F;27)-(m&#x2F;3)*(n-m^2&#x2F;3)$<br><strong>故而可以得到一个结论，所有的一元三次方程都可以化成上面那样的简单形式，因此只要找到 $t^3+rt+s&#x3D;0$ 这个方程的解法，就能够解出所有的一元三次方程了；</strong><br>3、$t^3+rt+s&#x3D;0$ 的解法<br><strong>关于这个方程的解法，首先我们知道，三次函数的值域是R，因此这个三次方程一定至少有一个实根。</strong><br>不妨设这个实根<br>$$<br>t&#x3D;A^{1&#x2F;3}+B^{1&#x2F;3}<br>$$<br>得到一个新的方程，将这个方程两边同时立方，得到<br>$$<br>t^3-3(AB)^{1&#x2F;3}t-(A+B)&#x3D;0<br>$$<br>显然这两个方程<strong>可以</strong>是同一个方程。比较系数，得到方程组<br>$$<br>r&#x3D;-3（AB)^{1&#x2F;3},s&#x3D;-(A+B)<br>$$<br><strong>根据一元二次方程的韦达定理，不难发现A和B就是方程 $X^2+sX-r^3&#x2F;27&#x3D;0$ 两个根。</strong><br>因此不难解出<br>$$<br>A&#x3D;-s&#x2F;2+\sqrt{(s&#x2F;2)^2+(r&#x2F;3)^3},B&#x3D;-s&#x2F;2-\sqrt{(s&#x2F;2)^2+(r&#x2F;3)^3}<br>$$<br>这样，可以用得到的A和B的值求出:<br>$$<br>t&#x3D;A^{1&#x2F;3}+B^{1&#x2F;3}&#x3D;\sqrt[3]{-s&#x2F;2+\sqrt{(s&#x2F;2)^2+(r&#x2F;3)^3}}+\sqrt[3]{-s&#x2F;2-\sqrt{(s&#x2F;2)^2+(r&#x2F;3)^3}}<br>$$<br>从而得到原方程的根。<br><strong>复数域的开根号:</strong><br>知欧拉公式: $e^{ix}&#x3D;cosx+isinx$, 令:<br>$$<br>a+bi&#x3D;r(cost+isint)<br>$$<br>其中 $r^2&#x3D;a^2+b^2,cost&#x3D;a&#x2F;r$. 则由欧拉公式，可知 $a+bi&#x3D;r(cost+isint)&#x3D;re^{it}$<br>然后用倍角公式求取开根号后的值:<br>$$<br>\sqrt[n]{a+bi}&#x3D;r^{1&#x2F;n}e^{it&#x2F;n}<br>$$</p>
<p>转载原文链接: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/31151158">如何求一元三次方程 - 龍陽桑的文章 - 知乎</a></p>
<h1 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h1><p><strong>1. 解一元三次方程</strong><br>$$<br>\lambda ^3 + 9 \lambda ^2 + 26 \lambda + 24 &#x3D; 0<br>$$<br>将二次项消去, 得到: 原方程等于<br>$$<br>(\lambda + 3)^3 - \lambda - 3 &#x3D; 0<br>$$<br>令 $t &#x3D; \lambda + 3$ 上式等于:<br>$$<br>t (t^2 - 1) &#x3D; 0<br>$$<br>解得: $t_1 &#x3D; -1, t_2 &#x3D; 0, t_3 &#x3D; 1$, 则:<br>$$<br>\lambda _1 &#x3D; -4, \lambda _2 &#x3D; -3, \lambda _3 &#x3D; -2<br>$$<br>解毕. </p>
<p><strong>2. 解一元三次方程</strong><br>$$<br>x^3-3x-2 &#x3D; 0<br>$$<br>原方程已没有二次项, 令 $t &#x3D; A^{\frac{1}{3}} + B^{\frac{1}{3}}$<br>将方程式: $t^3 - 3(AB)^{\frac{1}{3}}t - (A+B)$ 与原一元三次方程对比, 得到:<br>$$<br>    \begin{matrix}<br>        A + B &#x3D; 2 \cr<br>        3(AB)^{\frac{1}{3}} &#x3D; 3<br>    \end{matrix}<br>\quad -&gt; \quad<br>\begin{matrix}<br>    A+B &#x3D; 2 \cr<br>    AB &#x3D; 1<br>\end{matrix}<br>\quad -&gt; \quad A &#x3D; B &#x3D; 1<br>$$<br>$\sqrt[3]{1} &#x3D; 1, \frac{1}{2}( -1+ \sqrt{3}), \frac{1}{2}( -1+ \sqrt{3})$<br>则 $x &#x3D; 2, -1, -1$<br>解毕.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/05/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6-01%E8%A7%A3%E4%B8%80%E5%85%83%E4%B8%89%E6%AC%A1%E6%96%B9%E7%A8%8B/" data-id="clcw2yryy0036ywv02mp68a1i" data-title="中学数学-01解一元三次方程" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/" rel="tag">Math</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-概率论-99一些常用结论的推导" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/04/%E6%A6%82%E7%8E%87%E8%AE%BA-99%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%BB%93%E8%AE%BA%E7%9A%84%E6%8E%A8%E5%AF%BC/" class="article-date">
  <time class="dt-published" datetime="2022-09-04T10:04:05.000Z" itemprop="datePublished">2022-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/math/">math</a>►<a class="article-category-link" href="/categories/math/%E6%A6%82%E7%8E%87%E8%AE%BA/">概率论</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/04/%E6%A6%82%E7%8E%87%E8%AE%BA-99%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%BB%93%E8%AE%BA%E7%9A%84%E6%8E%A8%E5%AF%BC/">概率论-99一些常用结论的推导</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="e的-x的平方的积分-int-infty-infty-e-frac-x-2-2-dx-x3D-sqrt-2-pi"><a href="#e的-x的平方的积分-int-infty-infty-e-frac-x-2-2-dx-x3D-sqrt-2-pi" class="headerlink" title="e的-x的平方的积分: $\int_{-\infty}^{+\infty} e^{-\frac{x^2}{2}} dx &#x3D; \sqrt{2\pi}$"></a>e的-x的平方的积分: $\int_{-\infty}^{+\infty} e^{-\frac{x^2}{2}} dx &#x3D; \sqrt{2\pi}$</h1><h2 id="二重积分"><a href="#二重积分" class="headerlink" title="二重积分"></a>二重积分</h2><p>首先我们知道积分符号不影响积分的值，故：<br>$$<br>(\int_{-\infty}^{+\infty}e^{-\frac{x^2}{2}}dx)^2&#x3D;\int_{-\infty}^{+\infty}e^{-\frac{x^2}{2}}dx\int_{-\infty}^{+\infty}e^{-\frac{y^2}{2}}dy<br>$$<br>紧接着转为二重积分：<br>$$<br>\int_{-\infty}^{+\infty}dx\int_{-\infty}^{+\infty}e^{-\frac{1}{2}(x^2+y^2)}dy<br>$$<br>上式转为极坐标更容易求解：<br>$$<br>\int_{0}^{2\pi}d\theta\int_{0}^{+\infty}re^{-\frac{1}{2}r^2}dr&#x3D;\pi\int_{0}^{+\infty}e^{-\frac{1}{2}r^2}dr^2&#x3D;2\pi<br>$$<br>又因为 $e^{-\frac{x^2}{2}} &gt; 0$，则 $\int_{-\infty}^{+\infty}e^{-\frac{x^2}{2}}dx &gt; 0$ ，故：<br>$$<br>\int_{-\infty}^{+\infty}e^{-\frac{x^2}{2}}dx&#x3D;\sqrt{2\pi}<br>$$</p>
<h2 id="利用正态分布结论"><a href="#利用正态分布结论" class="headerlink" title="利用正态分布结论"></a>利用正态分布结论</h2><p>首先列出正态分布的表达式：<br>$$<br>f(x)&#x3D;\frac{1}{\sigma\sqrt{2\pi}}e^{-\frac{1}{2}(\frac{x-\mu}{\sigma})^2} (-\infty &lt; x &lt; +\infty)<br>$$<br>通过观察所求函数和正态分布表达式，我们可以令 $\sigma &#x3D; 1$，$\mu &#x3D; 0$ (标准正态分布)，得到如下表达式：<br>$$<br>f(x)&#x3D;\frac{1}{\sqrt{2\pi}}e^{-\frac{x^2}{2}}<br>$$<br>正态分布在 $-\infty$ 到 $+\infty$ 的积分为1，故：<br>$$<br>\int_{-\infty}^{+\infty}\frac{1}{\sqrt{2\pi}}e^{-\frac{x^2}{2}}dx&#x3D;1<br>$$<br>最后得出结论:<br>$$<br>\int_{-\infty}^{+\infty}e^{-\frac{x^2}{2}}dx&#x3D;\sqrt{2\pi}<br>$$</p>
<p><font color = '#aa3394'><strong>推广</strong></font>: $\int_{-\infty}^{+\infty} e^{-\frac{x^2}{a} &#x3D; \sqrt{a\pi}}$<br>参考:  <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/442211162?utm_campaign=&utm_medium=social&utm_oi=1171008606723108864&utm_psn=1549822617862950913&utm_source=qq">知乎-求e的-x的平方的积分的两种解法</a></p>
<h1 id="k的阶乘分之lambda-的k次方相加-sum-k-x3D-0-infty-frac-lambda-k-k-x3D-e-lambda"><a href="#k的阶乘分之lambda-的k次方相加-sum-k-x3D-0-infty-frac-lambda-k-k-x3D-e-lambda" class="headerlink" title="k的阶乘分之lambda 的k次方相加: $\sum_{k &#x3D; 0}^{\infty}\frac{\lambda^k}{k!} &#x3D; e^{\lambda}$"></a>k的阶乘分之lambda 的k次方相加: $\sum_{k &#x3D; 0}^{\infty}\frac{\lambda^k}{k!} &#x3D; e^{\lambda}$</h1><h2 id="利用数列函数"><a href="#利用数列函数" class="headerlink" title="利用数列函数"></a>利用数列函数</h2><p>设:<br>$$S(x) &#x3D; \sum_{k &#x3D; 0}^{\infty}\frac{x^k}{k!}$$<br>则:<br>$$S’(x) &#x3D; \sum_{k &#x3D; 1}^{\infty}\frac{x^{k-1}}{(k-1)!} &#x3D; \sum_{k &#x3D; 0}^{\infty}\frac{x^k}{k!} &#x3D; S(x)$$<br>$\because S(x) &#x3D; S’(x)$<br>$\therefore S(x) &#x3D; Ae^x$<br>$\because S(0) &#x3D; 1$<br>$\therefore A &#x3D; 1$<br>故: $S(x) &#x3D; e^x$<br>综上:<br>$$<br>\sum_{k &#x3D; 0}^{\infty}\frac{\lambda^k}{k!} &#x3D; e^{\lambda}<br>$$</p>
<h2 id="利用泰勒级数展开式"><a href="#利用泰勒级数展开式" class="headerlink" title="利用泰勒级数展开式"></a>利用泰勒级数展开式</h2><p>观察该式, 对比函数 $f(x) &#x3D; e^x$ 对 $x_0 &#x3D; 0$ 的泰勒展开式:<br>$$<br>f(x) &#x3D; e^x &#x3D; \frac{1}{0!} (x - 0)^0 + \frac{1}{1!} (x - 0)^1 + \frac{1}{2!} (x - 0)^2 +  \dots  + \frac{1}{n!} (x - 0)^n &#x3D; \sum_{k &#x3D; 0}^{\infty}\frac{x^k}{k!}<br>$$<br>故令 $x &#x3D; \lambda$ :<br>$$\sum_{k &#x3D; 0}^{\infty}\frac{\lambda^k}{k!} &#x3D; e^{\lambda}$$</p>
<h1 id="二项式分布的平均值-sum-k-1-x3D-0-n-1-C-n-1-k-1-p-k-1-q-n-k-x3D-1"><a href="#二项式分布的平均值-sum-k-1-x3D-0-n-1-C-n-1-k-1-p-k-1-q-n-k-x3D-1" class="headerlink" title="二项式分布的平均值: $\sum_{k-1 &#x3D; 0}^{n-1}C_{n-1}^{k-1}p^{k-1}q^{n-k} &#x3D; 1$"></a>二项式分布的平均值: $\sum_{k-1 &#x3D; 0}^{n-1}C_{n-1}^{k-1}p^{k-1}q^{n-k} &#x3D; 1$</h1><p>设: $q &#x3D; 1 - p$<br>$$<br>\begin{array}{rl}<br>    E(X) &amp; &#x3D; \sum_{k&#x3D;0}^{n} k \cdot C_{n}^{k}p^{k}q^{n-k} \cr<br>        &amp; &#x3D; \sum_{k&#x3D;0}^{n} k \cdot \frac{n!}{k! \cdot (n-k)!}p^{k}q^{n-k} \cr<br>        &amp; &#x3D; np \sum_{k&#x3D;1}^{n}\frac{(n-1)!}{(k-1)![(n-1)-(k-1)]!}p^{k-1}q^{(n-1)-(k-1)} \cr<br>        &amp; &#x3D; \sum_{k-1 &#x3D; 0}^{n-1}C_{k-1}^{n-1}p^{k-1}q^{(n-1)-(k-1)} \cr<br>        &amp; &#x3D; np(p+q)^{n-1} \cr<br>        &amp; &#x3D; np<br>\end{array}<br>$$</p>
<blockquote>
<p>书写注意验证: 看上角标和下角标之和是否相等</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/04/%E6%A6%82%E7%8E%87%E8%AE%BA-99%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%BB%93%E8%AE%BA%E7%9A%84%E6%8E%A8%E5%AF%BC/" data-id="clcw2yryy0039ywv0ahnld4ht" data-title="概率论-99一些常用结论的推导" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/" rel="tag">Math</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-嵌入式原理及应用-03-MCS-51-的存储器结构" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/29/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-03-MCS-51-%E7%9A%84%E5%AD%98%E5%82%A8%E5%99%A8%E7%BB%93%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2022-08-29T09:06:30.000Z" itemprop="datePublished">2022-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Electricity/">Electricity</a>►<a class="article-category-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/29/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-03-MCS-51-%E7%9A%84%E5%AD%98%E5%82%A8%E5%99%A8%E7%BB%93%E6%9E%84/">嵌入式原理及应用(03)-MCS-51 的存储器结构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://user-images.githubusercontent.com/73486724/190115079-5758ca5e-6b7d-4991-8736-dcdf02aee6dc.png" alt="image"><br>程序存储器地址为 16 位二进制数(4 位 16进制数)<br>数据存储器的片内地址为 2 位 16 进制数, 片外地址为 4 位 16 进制数.</p>
<h1 id="程序存储器"><a href="#程序存储器" class="headerlink" title="程序存储器"></a>程序存储器</h1><blockquote>
<p>单片机的分为数据存储器和程序存储器。单片机内部的存储器称为片内存储器，片外扩展的存储器成为片外存储器。比如8031内部有数据存储器而没有程序存储器，所以它一般要外接一块程序存储芯片，内部的数据存储器叫做9031的片内存储器，外部扩展的存储芯片叫做片外存储器。<br>参考: <a target="_blank" rel="noopener" href="https://blog.csdn.net/zc_021222/article/details/6363713">CSDN-单片机的片内存储器 片外存储器的内和外是相对于什么啊？</a><br>片内传送数据用 MOV<br>片外传送数据用 MOVX</p>
</blockquote>
<p>存储器中存放的实际上是由用户程序形成的二进制码（机器码），该存储器必须具有非易失性。  </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">move</span> A <span class="comment">; 将 A 写入, 要将 A 先转化为机械码</span></span><br></pre></td></tr></table></figure>

<p>程序存储器中存放<font color = '#34567'><strong>程序和表格</strong></font>, 最多外扩<strong>64k</strong>. 由程序计数器（PC）控制程序的执行，PC中存放的是将要执行的下一条指令的地址，是由单片机内部硬件自动生成的，且自动加一. </p>
<table>
<thead>
<tr>
<th align="center">单片机的中断源</th>
<th align="center">中断入口地址</th>
</tr>
</thead>
<tbody><tr>
<td align="center">外部中断0（INT0）</td>
<td align="center">0003H</td>
</tr>
<tr>
<td align="center">定时器0（T0）</td>
<td align="center">000BH</td>
</tr>
<tr>
<td align="center">外部中断1（INT1）</td>
<td align="center">0013H</td>
</tr>
<tr>
<td align="center">定时器1（T1）</td>
<td align="center">001BH</td>
</tr>
<tr>
<td align="center">串行口</td>
<td align="center">0023H</td>
</tr>
</tbody></table>
<p>由于外部中断0 的中断服务程序入口地址为 0003H , 为使主程序不与外部中断0 的中断服务程序产生冲突, 一般在 0000H 单元内存放一条跳转指令, 转向主程序的入口地址.<br>由于程序存储器的起始部分具有特殊意义，在编制程序时<font color = '#34567'>主程序中最好有跳转指令，在中断程序中也要有跳转指令</font>。</p>
<h1 id="内部数据存储器"><a href="#内部数据存储器" class="headerlink" title="内部数据存储器"></a>内部数据存储器</h1><!-- ![image](https://user-images.githubusercontent.com/73486724/190115558-dabf2b1d-b7ea-4f88-a1c8-4a68013e54c6.png) -->
<p>MCS51内部数据存储器（RAM）共有<font color = '#34567'> 128</font> 个字节，地址<font color = '#34567'> 00H~7FH </font>。51对内部数据存储器有丰富的操作指令。</p>
<h1 id="特殊功能寄存器（SFR）"><a href="#特殊功能寄存器（SFR）" class="headerlink" title="特殊功能寄存器（SFR）"></a>特殊功能寄存器（SFR）</h1><p><img src="https://user-images.githubusercontent.com/73486724/190116597-79c78693-8ce9-40b4-a29c-f299270aea8e.png" alt="image"><br>SFR共<font color = '#34567'> 21 </font>个，存在于单片机RAM单元中，地址范围<font color = '#34567'> 80H~FFH </font>。<br><strong>低 128 字节的 RAM 的单元地址为数据寄存器, 高 128 字节的 RAM 单元地址为特殊功能寄存器区.</strong></p>
<blockquote>
<p>A是特殊功能寄存器<br>PC不是特殊功能寄存器</p>
</blockquote>
<p>特殊功能寄存器反映了MCS51的状态，实际上是MCS51的状态字及控制字寄存器。51单片机通过写SFR来控制相应功能部件（定时器、串口、中断等）的工作方式，同时SFR也综合的、实际的反映了整个单片机基本系统内部的工作状态。例如，前面提到的PSW程序状态字寄存器，就是一个特殊功能寄存器。</p>
<h2 id="可位寻址的SFR位地址"><a href="#可位寻址的SFR位地址" class="headerlink" title="可位寻址的SFR位地址"></a>可位寻址的SFR位地址</h2><p><img src="https://user-images.githubusercontent.com/73486724/190118518-8e05adcf-4aa6-4f15-8270-ab1fc40b1bba.png" alt="image"></p>
<h2 id="累加器-A"><a href="#累加器-A" class="headerlink" title="累加器 A"></a>累加器 A</h2><p>累加器A是一个最常用的专用的寄存器，大部分单操作数指令的操作数取自累加器，很多双操作数指令的一个操作数取自累加器，加、减、乘、除算术运算指令的运算结果都存放在累加器A或B寄存器中。</p>
<h2 id="寄存器-B"><a href="#寄存器-B" class="headerlink" title="寄存器 B"></a>寄存器 B</h2><p>在乘、除指令中，用到B寄存器。不进行算数操作时，可作为一般寄存器使用。</p>
<h2 id="程序状态字寄存器PSW"><a href="#程序状态字寄存器PSW" class="headerlink" title="程序状态字寄存器PSW"></a>程序状态字寄存器PSW</h2><p>PSW是一个<strong>8位</strong>寄存器，它包含了程序状态信息。</p>
<h2 id="栈指针SP"><a href="#栈指针SP" class="headerlink" title="栈指针SP"></a>栈指针SP</h2><p>栈指针SP是一个<strong>8位专用</strong>寄存器，它指示出<font color = '#34567'><strong>堆栈顶部</strong></font>在内部RAM块中的位置.  </p>
<blockquote>
<p>51的栈向上生成，栈指针先加1，再存储，且后入先出。<br><strong>先 +1 再入栈, 先弹出后 -1</strong></p>
</blockquote>
<p>系统复位后，SP初始化为<font color = '#34567'> <strong>07H</strong> </font>，使得堆栈事实上由08H单元开始，<font color = '#32c'>考虑到08H～1FH单元分别属于工作寄存器区1～3，若在程序设计中要用到这些区，则最好把SP值改置为1FH或更大的值。</font></p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">MOV</span> <span class="number">81</span>H, <span class="number">#30</span>H</span><br><span class="line">= <span class="keyword">MOV</span> <span class="built_in">sp</span>,  <span class="number">#30</span>H<span class="comment">;   堆栈指针 sp 的位地址为 81H, 这两种表示方式等效</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">MOV</span> <span class="built_in">sp</span>, <span class="number">#60</span>H<span class="comment">;    CPU执行一条A累加器进栈指令</span></span><br><span class="line">  <span class="keyword">PUSH</span> A<span class="comment">;         先 +1 后入栈</span></span><br><span class="line">  <span class="keyword">PUSH</span> B<span class="comment">;         最后 (61H) = A, (62H) = B</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">POP</span>  B<span class="comment">;         现场保护</span></span><br><span class="line">  <span class="keyword">POP</span>  A<span class="comment">;         出栈先弹出后 -1</span></span><br></pre></td></tr></table></figure>

<h2 id="数据指针DPTR"><a href="#数据指针DPTR" class="headerlink" title="数据指针DPTR"></a>数据指针DPTR</h2><p>数据指针DPTR是一个<strong>16</strong>位的SFR，其高位字节寄存器用DPH表示，低位字节寄存器用DPL表示。DPTR既可以作为一个16位寄存器来用，也可以作为两个独立的8位寄存器DPH和DPL来用。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MOV</span>   DPL,  <span class="number">#10</span>H  <span class="comment">;立即数寻址, 给 DPRT 高八位赋值 11H, 低八位赋值 10H</span></span><br><span class="line"><span class="keyword">MOV</span>   DPH,  <span class="number">#11</span>H  <span class="comment">;DPTR = 1110H</span></span><br><span class="line"><span class="keyword">MOVX</span>  A,    <span class="comment">@DPTR;寄存器间接寻址, 把外扩存储器地址为 1110H 里的数传给 A</span></span><br></pre></td></tr></table></figure>

<h2 id="特殊功能寄存器P0-P3"><a href="#特殊功能寄存器P0-P3" class="headerlink" title="特殊功能寄存器P0~P3"></a>特殊功能寄存器P0~P3</h2><p>特殊功能寄存器P0～P3分别为I&#x2F;O端口P0~P3的锁存器。即每一个8位I&#x2F;O口都为RAM的一个单元（8位）<br>在MCS51中，I&#x2F;O口和RAM统一编址，所有访问RAM的指令，都可用来访问I&#x2F;O口。对于片外数据存储器和扩展的I&#x2F;O口，也是统一编址的。  </p>
<blockquote>
<p>I&#x2F;O 口统一编址: 进行 I&#x2F;O 扩展时有意义</p>
</blockquote>
<h2 id="串行数据缓冲器SBUF"><a href="#串行数据缓冲器SBUF" class="headerlink" title="串行数据缓冲器SBUF"></a>串行数据缓冲器SBUF</h2><p>串行数据缓冲器SBUF用于存放欲发或已接收的数据，它在SFR块中只有一个字节地址，但是物理上<strong>由两个独立的寄存器组成</strong>，一个发送一个接收。</p>
<h2 id="定时器-x2F-计数器"><a href="#定时器-x2F-计数器" class="headerlink" title="定时器&#x2F;计数器"></a>定时器&#x2F;计数器</h2><p>51单片机有2个16位定时&#x2F;计数器T0、T1，他们各由两个独立的8位寄存器组成，分别是TH0、TL0；TH1，TL1。不能把T0、T1作为16位寄存器操作。</p>
<h1 id="位地址空间"><a href="#位地址空间" class="headerlink" title="位地址空间"></a>位地址空间</h1><p>MCS51中共有可寻址的位 <strong>211</strong> 个，构成了8051的位地址空间。</p>
<ul>
<li>在RAM区，有可寻址128位，其位地址为 <font color = '#3456'><strong>00~7FH</strong></font> 。可位寻址RAM的字节地址为 <font color = '#3456'><strong>20H~2FH</strong> </font>；</li>
<li>可位寻址的SFR，共83位（其中IE为7位，IP为5位，PWS为7位，其余每个为8位）。</li>
</ul>
<blockquote>
<p>片内 RAM 地址为 <font color = '#3456'><strong>20H~2FH</strong> </font> 的 16 的 128 位(8 × 16 &#x3D; 128) 可进行位寻址, 也可进行字节寻址.<br>地址为 <font color = '#3456'><strong>30H~FFH</strong> </font> 的单元为用户 RAM 区, 只能进行字节寻址, 用作存放数据及作为堆栈区使用. </p>
</blockquote>
<p>只有以 “0” 或 “8” 结尾的地址才能够寻址, 例: 计算位地址位 30H 的字节地址<br>30H $&#x3D; 3 \times 16 + 0 \times 1 &#x3D; 48$, 字节地址 &#x3D; $\frac{48}{8} + 20 &#x3D;$ 26H</p>
<h1 id="外部数据存储器"><a href="#外部数据存储器" class="headerlink" title="外部数据存储器"></a>外部数据存储器</h1><p>当内部RAM不够使用时，可以外扩数据存储器，最多 <strong>64k</strong>。<br>64kB &#x3D; 2^16 位, 需要 8 个 I&#x2F;O 口.<br><img src="https://user-images.githubusercontent.com/73486724/190147681-5b9672d8-463e-42ec-8c39-686d24330fe0.png" alt="image">  </p>
<p>$\overline{WR}, \overline{RD}$ 外接数据存储器的 <strong>写端</strong> 和 <strong>读端</strong>. 接 2 根(要读要写);<br>$\overline{PSEN}$ 外接程序存储器. 接 1 根(只读).</p>
<h1 id="关于地址重叠："><a href="#关于地址重叠：" class="headerlink" title="关于地址重叠："></a>关于地址重叠：</h1><ul>
<li>程序存储器与外部数据存储器地址重叠（通过指令）</li>
<li>片内程序存储器与片外程序存储器地址重叠（通过EA管脚）</li>
<li>RAM的字节地址与位地址重叠（通过字节指令与位操作指令）</li>
<li>52的高128字节RAM地址与SFR地址重叠（通过不同的寻址方式）</li>
</ul>
<p><font color = '#34567'>52 增强型单片机与 51 单片机相比, 片内数据存储器增加了 128 B, 对应的字节地址为 <strong>80H ~ FFH</strong> . 这高 128 B 的 RAM 单元地址与特殊功能寄存器区的字节地址重合, 但它们是两个不同的物理区域. 对这两个具有相同地址区域进行访问时, 是由不同的指令寻址方式来区分的—— 对于地址为 80H ~ FFH 的 <strong>RAM <strong>区, 只能采用</strong>间接寻址</strong>的方式访问, 对于地址为 80H ~ FFH 的<strong>特殊功能寄存器区</strong>的访问只能采用<strong>直接寻址</strong>方式. 对于低 128 B (00H ~ 7FH) 的 RAM 区, 既可以采用直接寻址方式又可以采用间接寻址方式来访问.</font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/29/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-03-MCS-51-%E7%9A%84%E5%AD%98%E5%82%A8%E5%99%A8%E7%BB%93%E6%9E%84/" data-id="clcw2yryu0031ywv0gfxcgwfh" data-title="嵌入式原理及应用(03)-MCS-51 的存储器结构" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-嵌入式原理及应用-02MCS-51的硬件结构" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/26/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-02MCS-51%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2022-08-26T08:37:10.000Z" itemprop="datePublished">2022-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Electricity/">Electricity</a>►<a class="article-category-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/26/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-02MCS-51%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/">嵌入式原理及应用(02)-MCS-51的硬件结构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="MCS-51-的引脚功能"><a href="#MCS-51-的引脚功能" class="headerlink" title="MCS-51 的引脚功能"></a>MCS-51 的引脚功能</h1><p><img src="https://user-images.githubusercontent.com/73486724/186866165-0cb462c3-733b-4e97-b184-225d8f6745a5.png" alt="image"></p>
<h2 id="电源以及时钟引脚"><a href="#电源以及时钟引脚" class="headerlink" title="电源以及时钟引脚"></a>电源以及时钟引脚</h2><ul>
<li>电源引脚 Vcc: 接 +5v 电源</li>
<li>电源引脚 Vss: 接数字地(GND)</li>
<li>时钟引脚 XTAL1: 如果采用外接晶体振荡器时，此引脚应接地。使用片内振荡器，应接外部石英晶体和微调电容。使用片外振荡器，该脚接外部时钟振荡器输出的信号。</li>
<li>时钟引脚 XTAL2: 片内振荡器反相放大器的输出端。使用片内振荡器，接外部石英晶体和微调电容。使用片外振荡器，悬空。</li>
</ul>
<h2 id="控制引脚"><a href="#控制引脚" class="headerlink" title="控制引脚"></a>控制引脚</h2><ul>
<li>RST&#x2F;VPD(9脚): 复位信号&#x2F;备用电源的输入端。RST是复位信号输入端，高电平有效。加上<font color = "red">两个机器周期</font>的<font color = "red">高电平</font>时，就可以完成复位操作。在单片机正常工作时,此脚应该为 &lt;0.5v 低电平. RST引脚的第二功能是VPD，即备用电源的输入端, 接上备用电源，系统掉电时向内部RAM供电，使其保持数据。</li>
<li>ALE&#x2F; PROG(30脚)<ul>
<li>ALE(address lock enable): P0 口既做地址总线(AB) 又做数据总线(DB), 当访问单片机外部存储器时，ALE (地址锁存允许)输出脉冲的负跳沿用于16位地址的低8位的锁存信号。在P0 口做DB时用 地址锁存器ALE 来保存下降沿左端的地址信息, 示意图如下:<br><img src="https://user-images.githubusercontent.com/73486724/186869348-1498bfc9-e569-48ac-a0b2-f351e80db1c3.png" alt="image"></li>
<li>即使不访问外部锁存器，ALE端仍有正脉冲信号输出，此频率约为时钟振荡器频率的1 &#x2F; 6。但在执行某些指令时会不发出ALE信号，因而用户不能用做时钟源或定时。<font color = 'red'><strong>约为</strong>时钟振荡器频率的1 &#x2F; 6, 每当执行访问外部RAM或I&#x2F;O指令时会丢失一个 ALE 脉冲, 故并不是精确的1 &#x2F; 6 周期.</font></li>
</ul>
</li>
<li>PSEN（29脚）：程序存储允许输出信号端（片外ROM选通线）。在 PSEN脚为低电平时, 选中片外程序存储器。此引脚接EPROM的OE端。</li>
<li>EA(31脚)<ul>
<li>当 EA 端保持<font color = 'red'>高电平</font>时, 51单片机先访问内部程序存储器, 但当 PC(程序计数器) 值超过 0FFFH 时(8051, 8751), 将自动转向执行外部程序存储器内的程序.</li>
<li>当 EA 保持<font color = 'red'>低电平</font>时, 不管是否有内部程序存储器, 只访问外部程序存储器.</li>
</ul>
</li>
</ul>
<blockquote>
<p>0000H ~ 0FFFH: 4k个存储单元, $2^{12}$ byte, 1k &#x3D; $2^{10}$ byte</p>
</blockquote>
<h2 id="I-x2F-O-口引脚"><a href="#I-x2F-O-口引脚" class="headerlink" title="I&#x2F;O 口引脚"></a>I&#x2F;O 口引脚</h2><h3 id="I-x2F-O-口的功能"><a href="#I-x2F-O-口的功能" class="headerlink" title="I&#x2F;O 口的功能"></a>I&#x2F;O 口的功能</h3><p>为4个并行8位I&#x2F;O口，输入输出 8 位数据。</p>
<ol>
<li>P0口：双向8位三态I&#x2F;O口，此口为地址总线（低8位）及数据总线分时复用口，由ALE信号作为地址锁存, 可驱动8个LS型TTL负载。<ul>
<li>漏极开路的 8 位并行双向 I&#x2F;O 口</li>
<li>当扩展外部存储器及 I&#x2F;O 接口芯片时, P0 为口分时复用的低 8 位地址&#x2F;数据总线.</li>
<li>向 P0 口输入 1 后就成为了高阻态的输入口</li>
<li>P0 口做通用 I&#x2F;O 口使用时, 需外加上拉电阻, 此时为准双向口</li>
</ul>
</li>
<li>P1口：8位准双向I&#x2F;O口，可驱动4个LS型TTL负载, 供用户使用。  <ul>
<li>准双向 I&#x2F;O 口, 具有内部上拉电阻</li>
</ul>
</li>
<li>P2口：8位准双向I&#x2F;O口，与地址总线（高8位）使用，可驱动4个LS型TTL负载。当扩展的外部存储器小于64k时，即有未用到的P2口线，可作为一般I&#x2F;O口使用。<ul>
<li>准双向 I&#x2F;O 口, 具有内部上拉电阻</li>
<li>当访问外部存储器及 I&#x2F;O 口时, P2 作为高 8 位地址总线使用, 输出高 8 位地址.</li>
<li>不做地址总线时, 可作为通用 I&#x2F;O 口使用.</li>
</ul>
</li>
<li>P3口：8位准双向I&#x2F;O口，即可作为一般I&#x2F;O口使用，也可作为第二功能口使用. 控制总线, 可驱动4个LS型TTL负载。<ul>
<li>准双向 I&#x2F;O 口, 具有内部上拉电阻</li>
<li>P3 的第二功能要熟记</li>
</ul>
</li>
</ol>
<p>P3 口的第二功能:<br><img src="https://user-images.githubusercontent.com/73486724/190151915-121305c3-0f74-4a4d-8ea2-e295a53f8f33.png" alt="image">  </p>
<blockquote>
<p>P0 口作为地址总线(低 8 位)及数据总线使用时, 为双向口. 作为通用的 I&#x2F;O 口使用时需要加上拉电阻, 为准双向口. P1, P2, P3 口内部均有上拉电阻, 均为准双向口, 没有高阻’悬浮态’.</p>
</blockquote>
<h3 id="I-x2F-O-口的内部结构"><a href="#I-x2F-O-口的内部结构" class="headerlink" title="I&#x2F;O 口的内部结构"></a>I&#x2F;O 口的内部结构</h3><p><img src="https://user-images.githubusercontent.com/73486724/190152596-184e1ea5-38cb-4e37-a989-1cb3aa3e5efa.png" alt="image"></p>
<p><font color = '#34567'><strong>每一位引脚由锁存器、输出驱动器和输入缓冲器组成。</strong></font><br>P1口作为输出使用:</p>
<ul>
<li>输出高电平: Q为1，Q非为0，驱动管截止，P1口引脚在上拉电阻作用下，输出高电平；</li>
<li>输出低电平: Q为0，Q非为1，驱动管导通，P1口引脚输出低电平；</li>
</ul>
<p>P1口作为输入使用</p>
<ul>
<li>首先要通过内部总线写高电平1，Q非为0，使驱动管截止，这样由外部电路引起的P1口引脚的状态就能通过下面的缓冲器送到内部总线上；</li>
<li>如果做输入之前写低电平0，则Q非为1，驱动管导通，P1口引脚始终被拉低为低电平，外部电路无法在引脚上施加高电平1，从而无法作为双向口使用。</li>
</ul>
<p><font color = '#1234'><strong>P1口作为输入使用前必须先写高电平</strong></font><br>上下两个缓冲器，数据可通过锁存器、上面的缓冲器送到内部总线，也可通过引脚、下面的缓冲器送到内部总线。</p>
<h3 id="双向口与准双向口"><a href="#双向口与准双向口" class="headerlink" title="双向口与准双向口"></a>双向口与准双向口</h3><p><strong>注意:准双向口与双向三态口的差别，当3个准双向I&#x2F;O口作输入口使用时，要向该口先写“1”。准双向I&#x2F;O口无高阻的“浮空”状态。</strong></p>
<blockquote>
<p>TTL电平信号被利用的最多是因为通常数据表示采用二进制规定，+5V等价于逻辑“1”，0V等价于逻辑“0”，这被称做TTL（晶体管-晶体管逻辑电平）信号系统，这是计算机处理器控制的设备内部各部分之间通信的标准技术。<br>TTL电平信号对于计算机处理器控制的设备内部的数据传输是很理想的，首先计算机处理器控制的设备内部的数据传输对于电源的要求不高以及热损耗也较低，另外TTL电平信号直接与集成电路连接而不需要价格昂贵的线路驱动器以及接收器电路；再者，计算机处理器控制的设备内部的数据传输是在高速下进行的，而TTL接口的操作恰能满足这个要求。TTL型通信大多数情况下，是采用并行数据传输方式，而并行数据传输对于超过10英尺的距离就不适合了。这是由于可靠性和成本两面的原因。因为在并行接口中存在着偏相和不对称的问题，这些问题对可靠性均有影响。<br>TTL输出高电平&gt;2.4V，输出低电平&lt;0.4V。在室温下，一般输出高电平是3.5V，输出低电平是0.2V。最小输入高电平和低电平：输入高电平&gt;&#x3D;2.0V，输入低电平&lt;&#x3D;0.8V，噪声容限是0.4V。<br>TTL门电路是双极型集成电路，与分立元件相比，具有速度快、可靠性高和微型化等优点。  </p>
</blockquote>
<blockquote>
<p><strong>高阻态即不外接</strong></p>
</blockquote>
<p>参考资料: <a target="_blank" rel="noopener" href="https://blog.csdn.net/huzhipeng771926716/article/details/5564529">CSDN: LS型TTL负载</a></p>
<h3 id="I-x2F-O-口的读操作"><a href="#I-x2F-O-口的读操作" class="headerlink" title="I&#x2F;O 口的读操作"></a>I&#x2F;O 口的读操作</h3><ul>
<li>读锁存器<ul>
<li><em>读锁存器指令是从锁存器中读取数据</em>，进行处理，并把处理后的数据重新写入锁存器中，这类指令称为<strong>读、修改、写指令</strong>。在ANL、ORL、XRL；  JBC；  CPL；  INC、DEC；  DJNZ；  MOV、 CLR、  SETB等指令中，当<strong>目的操作数</strong>为某一I／O口或I／O口的某一位时，这些指令均为读、修改、写指令。</li>
<li>当给 I&#x2F;O 口锁存器写入某一状态后，相应的口引脚是否呈现锁存器的状态，是与外电路的连接有关。<ul>
<li>例如，用I&#x2F;O口线驱动外部三极管基极时，该口线被 <strong>锁存器写入“1”</strong> 后使外部三极管导通，而三极管一旦导通后，基极电平为“0”。口锁存器与引脚状态不一致</li>
</ul>
</li>
<li>当给一个准双向口 <strong>输出“0”</strong> 后，输出驱动器打开，管脚电位拉低为“0”，此时如将该管脚作输入脚使，将无法输入高电平。</li>
<li><font color = '#2345'><strong>由此可见，在设计8051系统时，对51的I&#x2F;O管脚要统一规划使用，一个管脚不能既作为输入，又作为输出。换言之，一个管脚如果第一次用其为输入，一直用其作为输入管脚</strong></font></li>
</ul>
</li>
<li>读引脚<ul>
<li><em>读引脚指令一般都是以I&#x2F;O端口为源操作数的指令</em>，执行读引脚指令时，打开三态门，输入口状态。例如，读P1口的输入状态时，读引脚指令为：MOV  A，P1。</li>
</ul>
</li>
</ul>
<h1 id="MCS-51-的CPU"><a href="#MCS-51-的CPU" class="headerlink" title="MCS-51 的CPU"></a>MCS-51 的CPU</h1><p>MSC-51 单片机的 CPU 为8位的CPU，且内含一个1位的位处理器，可进行字节数据和位变量的处理，是由<font color = 'red'>运算器和控制器</font>组成的。<br><img src="https://user-images.githubusercontent.com/73486724/187156867-9cffa320-146b-4e87-8eeb-1e8842f30aab.png" alt="image"></p>
<h2 id="运算器"><a href="#运算器" class="headerlink" title="运算器"></a>运算器</h2><h3 id="算数运算逻辑单元-ALU"><a href="#算数运算逻辑单元-ALU" class="headerlink" title="算数运算逻辑单元 ALU"></a>算数运算逻辑单元 ALU</h3><p>功能强大，它不仅可对8位变量进行逻辑”与、或异或”循环、求补和清零等基本操作，还可以进行加、减、乘、除等基本运算, ALU还具有位处理操作，如置位、清零、求补、测试。转移及逻辑“与、或”等操作。</p>
<h3 id="累加器-A"><a href="#累加器-A" class="headerlink" title="累加器 A"></a>累加器 A</h3><p>累加器 A 是CPU 中使用最频繁的一个8位寄存器。<br><strong>是 ALU 的输入数据源之一, 也是ALU 的运算结果存放单元, 是 ALU 的主要寄存器</strong>.<br><font color = '#339'> <strong>累加器中的进位位 Cy (位于程序状态字特殊功能寄存器 PSW 中) 是特殊的, 因为它同时又是位处理器的累加器.</strong></font></p>
<blockquote>
<p>CPU 中的数据大多数通过 A 传送, 大部分指令都会用到它(语言听上去不是全部指令都用上, 有一部分是不会经过 A 的数据传输指令)</p>
</blockquote>
<h3 id="寄存器-B"><a href="#寄存器-B" class="headerlink" title="寄存器 B"></a>寄存器 B</h3><p>是为执行乘法和除法操作设置的，在不执行乘除法操作的一般情况下可把它当作一个 普通寄存器使用。<br>在乘法运算时，累加器A和寄存器B在乘法运算前存放乘数和被乘数，运算完，寄存器B存放低八位, 累加器A存放高八位。<br>除法运算前，累加器A和寄存器B存入被除数和除数，运算完用于存放商和余数。</p>
<h3 id="程序状态字寄存器-PSW-Program-Status-Word"><a href="#程序状态字寄存器-PSW-Program-Status-Word" class="headerlink" title="程序状态字寄存器 PSW (Program Status Word)"></a>程序状态字寄存器 PSW (Program Status Word)</h3><p><img src="https://user-images.githubusercontent.com/73486724/187157336-9f36a6c6-0c69-44b1-8446-c38e473ae0a1.png" alt="image"><br>Cy (PSW.7)：进位标志位。在进行加法或减法运算时，若运算结果最高位有进位或借位，则Cy自动置 <strong>“1”</strong>，否则Cy置 <strong>“0”</strong>；在进行布尔操作运算时，Cy （简称C）作为布尔处理器。<br>AC (PSW.6&#x2F;)：辅助进位标志位。当进行加法或减法运算时，若低4位向高4位有进位或借位时，AC被置 <strong>“1”</strong>，否则AC被置 <strong>“0”</strong>。在十进制调整指令中AC还作为十进制调整的判别位。<br>F0 (PSW.5)：用户标志位。用户可用软件对F0位置 <strong>“1”</strong> 或清 <strong>“0”</strong>，以决定程序的流向。<br>RSI、RS0 (PSW.4, PSW.3)：工作寄存器区选择位，用来选择当前工作的寄存器区。用户通过改变RS1、RS0的内容来选择当前工作寄存器区。RSI、RS0的内容与工作寄存器区的对应关系如表2-2所示。<br><img src="https://user-images.githubusercontent.com/73486724/187157753-024e308a-866c-4bed-b23d-04aea91ba789.png" alt="image"></p>
<p>OV (PSW.2)：溢出标志位，当运算结果溢出时，OV为 <strong>“1”</strong>，否则为 <strong>“0”</strong>。此标志位反映了运算结果是否溢出。<br>D1 (PSW.1)：未定义位。<br>P (PSW.0)：奇偶标志位。MCS-51单片机采用偶校验。当累加器A中 “1”的个数为奇数时，P置 <strong>“1”</strong>,否则P置 **“0”**。此位反映累加器A中内容“1”的奇偶性，它常常用于机间通信。在串行通信中常用奇偶校验的方法检验数据串行传输的可靠性.   </p>
<blockquote>
<p>串行通信（英语：Serial communication） 串口类似于一条车道，而并口就是有8个车道同一时刻能传送8位（一个字节）数据。但并不是并口快，由于8位通道之间的互相干扰。传输时速度就受到了限制。而且当传输出错时，要同时重新传8个位的数据。串口没有干扰，传输出错后重发一位就可以了，所以要比并口快。</p>
</blockquote>
<h2 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h2><p>控制部件是单片机的神经中枢，以主振频率为基准(每个主振周期称为<strong>振荡周期</strong>),控制器控制CPU的<strong>时序</strong>，对指令进行<strong>译码</strong>，然后发出各种控制信号，它将各个硬件环节组织在一起。<br>它的功能是根据程序计数器PC的内容取指令，然后进行指令译码，并严格按照定时控制电路依据指令译码的内容产生相应的控制信号，协调各部分的工作，完成指令所规定的操作。</p>
<h3 id="程序计数器PC"><a href="#程序计数器PC" class="headerlink" title="程序计数器PC"></a>程序计数器PC</h3><p>是控制器内独立的16位计数器寄存器, 是程序存储器的地址指针. 它<strong>用来存放CPU执行的<font color = '#7759'>下一条指令</font>的地址</strong>。当一条指令按照PC所指的地址从程序存储器中取出后，PC会自动加1，指向下一条指令。程序计数器PC是一个16位的寄存器，可寻址64KB的程序存储器空间。  </p>
<blockquote>
<p>当单片机复位时, PC 内容变为 0000H. 因而程序总是从程序存储器的0000H处开始执行。<br>一些指令会影响到PC的连续性，例如跳转类，中断响应等。<br>PC不是SFR</p>
</blockquote>
<h3 id="指令寄存器、指令译码器及控制逻辑电路"><a href="#指令寄存器、指令译码器及控制逻辑电路" class="headerlink" title="指令寄存器、指令译码器及控制逻辑电路"></a>指令寄存器、指令译码器及控制逻辑电路</h3><p>分别用来存放指令操作码、对指令译码、根据译码结果发出一 系列控制信号,使微控制器的各组成部件进行相应的工作，执行指令。</p>
<h1 id="复位电路"><a href="#复位电路" class="headerlink" title="复位电路"></a>复位电路</h1><ul>
<li>复位为单片机提供了初始化手段，当RST引脚保持24个时钟周期以上的高电平将引起复位。 </li>
<li>在复位有效期间（即高电平），ALE引脚为高电平，且内部RAM不受复位的影响。  </li>
<li>复位后的部分寄存器状态<ul>
<li>PC&#x3D;0000H</li>
<li>PSW&#x3D;00H  选择工作寄存器0区</li>
<li>SP&#x3D;07H</li>
</ul>
</li>
</ul>
<h1 id="时钟电路"><a href="#时钟电路" class="headerlink" title="时钟电路"></a>时钟电路</h1><h2 id="内部方式"><a href="#内部方式" class="headerlink" title="内部方式"></a>内部方式</h2><p><img src="https://user-images.githubusercontent.com/73486724/190157153-7139fe6a-53ac-456a-9570-df13231aabb1.png" alt="image">  </p>
<ul>
<li>晶振 1.2MHz~12MHz</li>
<li>电容 20pF~100pF, 典型值：30pF</li>
</ul>
<h2 id="外部方式"><a href="#外部方式" class="headerlink" title="外部方式"></a>外部方式</h2><p><img src="https://user-images.githubusercontent.com/73486724/190157442-afb5b901-dcef-44a8-a1a9-89846c4e5fa5.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/26/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8-02MCS-51%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/" data-id="clcw2yrym002sywv0ggvy3n80" data-title="嵌入式原理及应用(02)-MCS-51的硬件结构" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Dilettantism/">Dilettantism</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Dilettantism/%E6%96%87%E5%AD%A6/">文学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dilettantism/%E8%89%BA%E6%9C%AF/">艺术</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electricity/">Electricity</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Electricity/%E5%AF%BC%E8%88%AA%E5%8E%9F%E7%90%86/">导航原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electricity/%E7%A1%AC%E4%BB%B6/">硬件</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Language/">Language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Language/python/">python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Math/%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6/">中学数学</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mechanics/">Mechanics</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Mechanics/%E5%A7%BF%E6%80%81/">姿态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mechanics/%E7%BB%93%E6%9E%84%E5%8A%A8%E5%8A%9B%E5%AD%A6/">结构动力学</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/math/">math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/math/%E5%BE%AE%E7%A7%AF%E5%88%86/">微积分</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/math/%E6%A6%82%E7%8E%87%E8%AE%BA/">概率论</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C/">高效工作</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C/%E6%96%87%E7%8C%AE%E7%AE%A1%E7%90%86/">文献管理</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dilettantism/" rel="tag">Dilettantism</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frp/" rel="tag">Frp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Language/" rel="tag">Language</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/" rel="tag">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Physics/" rel="tag">Physics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">云服务器</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Dilettantism/" style="font-size: 12px;">Dilettantism</a> <a href="/tags/Frp/" style="font-size: 10px;">Frp</a> <a href="/tags/Language/" style="font-size: 20px;">Language</a> <a href="/tags/Math/" style="font-size: 18px;">Math</a> <a href="/tags/Physics/" style="font-size: 14px;">Physics</a> <a href="/tags/work/" style="font-size: 12px;">work</a> <a href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" style="font-size: 16px;">专业课</a> <a href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10px;">云服务器</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/14/%E7%BB%93%E6%9E%84%E5%8A%A8%E5%8A%9B%E5%AD%A6-0%E5%89%8D%E8%A8%80/">结构动力学-0前言</a>
          </li>
        
          <li>
            <a href="/2023/01/14/LaTeX/">LaTeX</a>
          </li>
        
          <li>
            <a href="/2023/01/14/Hexo%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Hexo 学习笔记</a>
          </li>
        
          <li>
            <a href="/2023/01/14/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2023/01/11/%E7%BD%97%E5%BE%B7%E9%87%8C%E6%A0%BC%E6%96%AF%E6%97%8B%E8%BD%AC%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/">罗德里格斯旋转公式推导</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>